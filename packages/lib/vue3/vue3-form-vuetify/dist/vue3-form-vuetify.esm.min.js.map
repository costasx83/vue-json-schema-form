{"version":3,"file":"vue3-form-vuetify.esm.min.js","sources":["../../../utils/vueCommonUtils.js","../../../utils/vue3Utils.js","../../../utils/utils.js","../../../utils/schema/findSchemaDefinition.js","../../../../../node_modules/uri-js/dist/es5/uri.all.js","../../../../../node_modules/fast-deep-equal/index.js","../../../../../node_modules/ajv/lib/compile/util.js","../../../../../node_modules/ajv/lib/compile/ucs2length.js","../../../../../node_modules/ajv/lib/compile/schema_obj.js","../../../../../node_modules/json-schema-traverse/index.js","../../../../../node_modules/ajv/lib/compile/resolve.js","../../../../../node_modules/ajv/lib/compile/error_classes.js","../../../../../node_modules/fast-json-stable-stringify/index.js","../../../../../node_modules/ajv/lib/dotjs/validate.js","../../../../../node_modules/ajv/lib/compile/index.js","../../../../../node_modules/ajv/lib/cache.js","../../../../../node_modules/ajv/lib/compile/formats.js","../../../../../node_modules/ajv/lib/dotjs/ref.js","../../../../../node_modules/ajv/lib/dotjs/_limit.js","../../../../../node_modules/ajv/lib/dotjs/_limitItems.js","../../../../../node_modules/ajv/lib/dotjs/_limitLength.js","../../../../../node_modules/ajv/lib/dotjs/_limitProperties.js","../../../../../node_modules/ajv/lib/dotjs/index.js","../../../../../node_modules/ajv/lib/dotjs/allOf.js","../../../../../node_modules/ajv/lib/dotjs/anyOf.js","../../../../../node_modules/ajv/lib/dotjs/comment.js","../../../../../node_modules/ajv/lib/dotjs/const.js","../../../../../node_modules/ajv/lib/dotjs/contains.js","../../../../../node_modules/ajv/lib/dotjs/dependencies.js","../../../../../node_modules/ajv/lib/dotjs/enum.js","../../../../../node_modules/ajv/lib/dotjs/format.js","../../../../../node_modules/ajv/lib/dotjs/if.js","../../../../../node_modules/ajv/lib/dotjs/items.js","../../../../../node_modules/ajv/lib/dotjs/multipleOf.js","../../../../../node_modules/ajv/lib/dotjs/not.js","../../../../../node_modules/ajv/lib/dotjs/oneOf.js","../../../../../node_modules/ajv/lib/dotjs/pattern.js","../../../../../node_modules/ajv/lib/dotjs/properties.js","../../../../../node_modules/ajv/lib/dotjs/propertyNames.js","../../../../../node_modules/ajv/lib/dotjs/required.js","../../../../../node_modules/ajv/lib/dotjs/uniqueItems.js","../../../../../node_modules/ajv/lib/compile/rules.js","../../../../../node_modules/ajv/lib/data.js","../../../../../node_modules/ajv/lib/compile/async.js","../../../../../node_modules/ajv/lib/dotjs/custom.js","../../../../../node_modules/ajv/lib/definition_schema.js","../../../../../node_modules/ajv/lib/keyword.js","../../../../../node_modules/ajv/lib/ajv.js","../../../utils/i18n/index.js","../../../utils/i18n/localize/en.js","../../../utils/arrayUtils.js","../../../utils/schema/retriev.js","../../../utils/formUtils.js","../../../utils/schema/validate.js","../../../utils/schema/getDefaultFormState.js","../../../../../node_modules/style-inject/dist/style-inject.es.js","../../vue3-core/src/props.js","../../vue3-core/src/components/FormFooter.js","../../../utils/components/FieldGroupWrap.vue","../../../utils/components/FieldGroupWrap.vue?vue&type=template&id=36d6adcc&lang.js","../../vue3-core/src/fields/props.js","../../../utils/icons/IconCaretDown.vue?vue&type=template&id=7e299b7b&lang.js","../../../utils/icons/IconCaretUp.vue?vue&type=template&id=7f5d3d34&lang.js","../../../utils/icons/IconClose.vue?vue&type=template&id=4459a02e&lang.js","../../../utils/icons/IconPlus.vue?vue&type=template&id=7c132bd4&lang.js","../../../utils/icons/IconQuestion.vue?vue&type=template&id=518fb320&lang.js","../../vue3-core/src/components/Widget.js","../../vue3-core/src/fields/ObjectField/index.js","../../vue3-core/src/fields/StringField/index.js","../../vue3-core/src/fields/NumberField/index.js","../../vue3-core/src/fields/IntegerField/index.js","../../vue3-core/src/fields/BooleanField/index.js","../../vue3-core/src/fields/ArrayField/components/ArrayOrderList.js","../../vue3-core/src/fields/ArrayField/arrayTypes/ArrayFieldNormal.js","../../vue3-core/src/fields/ArrayField/arrayTypes/ArrayFieldMultiSelect.js","../../vue3-core/src/fields/ArrayField/arrayTypes/ArrayFieldTuple.js","../../vue3-core/src/fields/ArrayField/arrayTypes/ArrayFieldSpecialFormat.js","../../vue3-core/src/fields/ArrayField/index.js","../../vue3-core/src/fields/combiningSchemas/SelectLinkageField/index.js","../../vue3-core/src/FIELDS_MAP.js","../../vue3-core/src/fields/combiningSchemas/AnyOfField/index.js","../../vue3-core/src/fields/combiningSchemas/OneOfField/index.js","../../vue3-core/src/fields/SchemaField/index.js","../src/config/widgets/CheckboxesWidget/index.vue","../src/config/widgets/CheckboxesWidget/index.vue?vue&type=template&id=d3fc1608&lang.js","../src/config/widgets/RadioWidget/index.vue","../src/config/widgets/RadioWidget/index.vue?vue&type=template&id=0a95fc2e&lang.js","../src/config/widgets/SelectWidget/index.vue","../src/config/widgets/SelectWidget/index.vue?vue&type=template&id=3e013647&lang.js","../src/config/widgets/DatePickerWidget/index.js","../src/config/widgets/DateTimePickerWidget/index.js","../src/config/widgets/TimePickerWidget/index.js","../src/config/widgets/UploadWidget/index.js","../src/config/widgets/TextareaWidget/index.js","../src/config/widgets/SwitchWidget/index.vue","../src/config/widgets/SwitchWidget/index.vue?vue&type=template&id=a23b6f02&lang.js","../src/config/widgets/index.js","../src/config/widgets/WIDGET_MAP.js","../src/index.js","../../vue3-core/src/index.js"],"sourcesContent":["// 内部使用 . ，配置数据key不能出现.\r\nexport const pathSeparator = '.';\r\n\r\n// Convert nodePath to css class name\r\nexport function nodePath2ClassName(path) {\r\n    const rootPathName = '__pathRoot';\r\n    return path ? `${rootPathName}.${path}`.replace(/\\./g, '_') : rootPathName;\r\n}\r\n\r\n// Is root node\r\nexport function isRootNodePath(path) {\r\n    return path === '';\r\n}\r\n\r\n// Calculate current node path\r\nexport function computedCurPath(prePath, curKey) {\r\n    return prePath === '' ? curKey : [prePath, curKey].join(pathSeparator);\r\n}\r\n\r\n// Get current path value\r\nexport function getPathVal(obj, path, leftDeviation = 0) {\r\n    const pathArr = path.split(pathSeparator);\r\n\r\n    for (let i = 0; i < pathArr.length - leftDeviation; i += 1) {\r\n        // Error path or undefined interrupts search\r\n        if (obj === undefined) return undefined;\r\n        obj = pathArr[i] === '' ? obj : obj[pathArr[i]];\r\n    }\r\n    return obj;\r\n}\r\n\r\n// Path equals props\r\nexport function path2prop(path) {\r\n    return path;\r\n}\r\n","/**\r\n * Created by Liu.Jun on 2020/4/25 14:45.\r\n */\r\n\r\nimport { defineComponent, h, resolveComponent as _resolveComponent } from 'vue';\r\n\r\nimport {\r\n    nodePath2ClassName, isRootNodePath, computedCurPath, getPathVal, path2prop, pathSeparator\r\n} from './vueCommonUtils';\r\n\r\n// Delete current path value\r\nexport function deletePathVal(vueData, name) {\r\n    delete vueData[name];\r\n}\r\n\r\n// Set current path value\r\nexport function setPathVal(obj, path, value) {\r\n    const pathArr = path.split(pathSeparator);\r\n    for (let i = 0; i < pathArr.length; i += 1) {\r\n        if (pathArr.length - i < 2) {\r\n            // Last data\r\n            obj[pathArr[pathArr.length - 1]] = value;\r\n            break;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n}\r\n\r\nexport function resolveComponent(component) {\r\n    if (typeof component === 'string') return _resolveComponent(component);\r\n\r\n    return component;\r\n}\r\n\r\n// Convert antdv, naive and other non-modelValue v-model components\r\nexport const modelValueComponent = (component, {\r\n    model = 'value'\r\n} = {}) => defineComponent({\r\n    inheritAttrs: false,\r\n    setup(props, { attrs, slots }) {\r\n        return () => {\r\n            const {\r\n                modelValue: value,\r\n                'onUpdate:modelValue': onUpdateValue,\r\n                ...otherAttrs\r\n            } = attrs;\r\n\r\n            // eg: 'a-input'\r\n            return h(resolveComponent(component), {\r\n                [model]: value,\r\n                [`onUpdate:${model}`]: onUpdateValue,\r\n                ...otherAttrs\r\n            }, slots);\r\n        };\r\n    }\r\n});\r\n\r\nexport {\r\n    nodePath2ClassName, isRootNodePath, computedCurPath, getPathVal, path2prop, pathSeparator\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/17 17:05.\r\n */\r\n\r\n// is object\r\nexport function isObject(object) {\r\n    return Object.prototype.toString.call(object) === '[object Object]';\r\n}\r\n\r\n// is arguments\r\nfunction isArguments(object) {\r\n    return Object.prototype.toString.call(object) === '[object Arguments]';\r\n}\r\n\r\n// Infer schema type from defined data\r\nexport const guessType = function guessType(value) {\r\n    if (Array.isArray(value)) {\r\n        return 'array';\r\n    } if (typeof value === 'string') {\r\n        return 'string';\r\n    } if (value == null) {\r\n        return 'null';\r\n    } if (typeof value === 'boolean') {\r\n        return 'boolean';\r\n        // eslint-disable-next-line no-restricted-globals\r\n    } if (!isNaN(value)) {\r\n        return 'number';\r\n    } if (typeof value === 'object') {\r\n        return 'object';\r\n    }\r\n    // Default to string if we can't figure it out\r\n    return 'string';\r\n};\r\n\r\nexport function union(arr1, arr2) {\r\n    return [...new Set([...arr1, ...arr2])];\r\n}\r\n\r\n// Recursively merge deeply nested schemas.\r\n// The difference between mergeSchemas and mergeObjects\r\n// is that mergeSchemas only concats arrays for\r\n// values under the \"required\" keyword, and when it does,\r\n// it doesn't include duplicate values.\r\nexport function mergeSchemas(obj1, obj2) {\r\n    const acc = Object.assign({}, obj1); // Prevent mutation of source object.\r\n    // eslint-disable-next-line no-shadow\r\n    return Object.keys(obj2).reduce((acc, key) => {\r\n        const left = obj1 ? obj1[key] : {};\r\n        const right = obj2[key];\r\n        if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\r\n            acc[key] = mergeSchemas(left, right);\r\n        } else if (\r\n            obj1\r\n            && obj2\r\n            && (getSchemaType(obj1) === 'object' || getSchemaType(obj2) === 'object')\r\n            && key === 'required'\r\n            && Array.isArray(left)\r\n            && Array.isArray(right)\r\n        ) {\r\n            // Don't include duplicate values when merging\r\n            // \"required\" fields.\r\n            acc[key] = union(left, right);\r\n        } else {\r\n            acc[key] = right;\r\n        }\r\n        return acc;\r\n    }, acc);\r\n}\r\n\r\n// Merge object data\r\nexport function mergeObjects(obj1, obj2, concatArrays = false) {\r\n    // Recursively merge deeply nested objects.\r\n    const preAcc = Object.assign({}, obj1); // Prevent mutation of source object.\r\n    if (!isObject(obj2)) return preAcc;\r\n\r\n    return Object.keys(obj2).reduce((acc, key) => {\r\n        const left = obj1 ? obj1[key] : {};\r\n        const right = obj2[key];\r\n        if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\r\n            acc[key] = mergeObjects(left, right, concatArrays);\r\n        } else if (concatArrays && Array.isArray(left) && Array.isArray(right)) {\r\n            acc[key] = left.concat(right);\r\n        } else {\r\n            acc[key] = right;\r\n        }\r\n        return acc;\r\n    }, preAcc);\r\n}\r\n\r\n// Get given schema type\r\nexport function getSchemaType(schema) {\r\n    const { type } = schema;\r\n\r\n    // Type inference through const declared constant\r\n    if (!type && schema.const) {\r\n        return guessType(schema.const);\r\n    }\r\n\r\n    // Enum defaults to string\r\n    if (!type && schema.enum) {\r\n        return 'string';\r\n    }\r\n\r\n    // Items inferred as array type\r\n    if (!type && (schema.items)) {\r\n        return 'array';\r\n    }\r\n\r\n    // anyOf oneOf do not declare type field\r\n    if (!type && (schema.properties || schema.additionalProperties)) {\r\n        return 'object';\r\n    }\r\n\r\n    if (type instanceof Array && type.length === 2 && type.includes('null')) {\r\n        return type.find(curType => curType !== 'null');\r\n    }\r\n\r\n    return type;\r\n}\r\n\r\n// Deep equality comparison\r\nexport function deepEquals(a, b, ca = [], cb = []) {\r\n    // Partially extracted from node-deeper and adapted to exclude comparison\r\n    // checks for functions.\r\n    // https://github.com/othiym23/node-deeper\r\n    if (a === b) {\r\n        return true;\r\n    } if (typeof a === 'function' || typeof b === 'function') {\r\n        // Assume all functions are equivalent\r\n        // see https://github.com/mozilla-services/react-jsonschema-form/issues/255\r\n        return true;\r\n    } if (typeof a !== 'object' || typeof b !== 'object') {\r\n        return false;\r\n    } if (a === null || b === null) {\r\n        return false;\r\n    } if (a instanceof Date && b instanceof Date) {\r\n        return a.getTime() === b.getTime();\r\n    } if (a instanceof RegExp && b instanceof RegExp) {\r\n        return (\r\n            a.source === b.source\r\n            && a.global === b.global\r\n            && a.multiline === b.multiline\r\n            && a.lastIndex === b.lastIndex\r\n            && a.ignoreCase === b.ignoreCase\r\n        );\r\n    } if (isArguments(a) || isArguments(b)) {\r\n        if (!(isArguments(a) && isArguments(b))) {\r\n            return false;\r\n        }\r\n        const slice = Array.prototype.slice;\r\n        return deepEquals(slice.call(a), slice.call(b), ca, cb);\r\n    }\r\n    if (a.constructor !== b.constructor) {\r\n        return false;\r\n    }\r\n\r\n    const ka = Object.keys(a);\r\n    const kb = Object.keys(b);\r\n    // don't bother with stack acrobatics if there's nothing there\r\n    if (ka.length === 0 && kb.length === 0) {\r\n        return true;\r\n    }\r\n    if (ka.length !== kb.length) {\r\n        return false;\r\n    }\r\n\r\n    let cal = ca.length;\r\n    // eslint-disable-next-line no-plusplus\r\n    while (cal--) {\r\n        if (ca[cal] === a) {\r\n            return cb[cal] === b;\r\n        }\r\n    }\r\n    ca.push(a);\r\n    cb.push(b);\r\n\r\n    ka.sort();\r\n    kb.sort();\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let j = ka.length - 1; j >= 0; j--) {\r\n        if (ka[j] !== kb[j]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    let key;\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let k = ka.length - 1; k >= 0; k--) {\r\n        key = ka[k];\r\n        if (!deepEquals(a[key], b[key], ca, cb)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    ca.pop();\r\n    cb.pop();\r\n\r\n    return true;\r\n}\r\n\r\n// Only guarantee non-duplicate simultaneous generation\r\nexport const genId = (function genIdFn() {\r\n    let preKey = `${+new Date()}`;\r\n    let key = 0;\r\n    return () => {\r\n        const curTimestamp = `${+new Date()}`;\r\n        if (curTimestamp === preKey) {\r\n            key += 1;\r\n        } else {\r\n            // Reset key\r\n            key = 0;\r\n        }\r\n\r\n        preKey = curTimestamp;\r\n        return `${preKey}x${key}`;\r\n    };\r\n}());\r\n\r\n// Empty object\r\nexport function isEmptyObject(obj) {\r\n    if (!obj) return true;\r\n\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n// Filter and transform object keys\r\nexport function filterObject(obj, filterFn) {\r\n    return Object.entries(obj).reduce((preVal, [key, value]) => {\r\n        const newKey = filterFn(key, value);\r\n        if (undefined !== newKey) {\r\n            preVal[newKey] = value;\r\n        }\r\n        return preVal;\r\n    }, {});\r\n}\r\n\r\nconst f = s => `0${s}`.substr(-2);\r\nexport function parseDateString(dateString, includeTime = true) {\r\n    if (!dateString) {\r\n        return {\r\n            year: -1,\r\n            month: -1,\r\n            day: -1,\r\n            hour: includeTime ? -1 : 0,\r\n            minute: includeTime ? -1 : 0,\r\n            second: includeTime ? -1 : 0,\r\n        };\r\n    }\r\n    const date = new Date(dateString);\r\n    if (Number.isNaN(date.getTime())) {\r\n        throw new Error(`Unable to parse date ${dateString}`);\r\n    }\r\n    return {\r\n        year: date.getFullYear(),\r\n        month: f(date.getMonth() + 1), // oh you, javascript.\r\n        day: f(date.getDate()),\r\n        hour: f(includeTime ? date.getHours() : 0),\r\n        minute: f(includeTime ? date.getMinutes() : 0),\r\n        second: f(includeTime ? date.getSeconds() : 0),\r\n    };\r\n}\r\n\r\nexport function toDateString(\r\n    {\r\n        year, month, day, hour = 0, minute = 0, second = 0\r\n    },\r\n    time = true\r\n) {\r\n    const utcTime = Date.UTC(year, month - 1, day, hour, minute, second);\r\n    const datetime = new Date(utcTime).toJSON();\r\n    return time ? datetime : datetime.slice(0, 10);\r\n}\r\n\r\nexport function pad(num, size) {\r\n    let s = String(num);\r\n    while (s.length < size) {\r\n        s = `0${s}`;\r\n    }\r\n    return s;\r\n}\r\n\r\n// Convert dataUrl to Blob file object\r\nexport function dataURItoBlob(dataURI) {\r\n    // Split metadata from data\r\n    const splitted = dataURI.split(',');\r\n    // Split params\r\n    const params = splitted[0].split(';');\r\n    // Get mime-type from params\r\n    const type = params[0].replace('data:', '');\r\n    // Filter the name property from params\r\n    const properties = params.filter(param => param.split('=')[0] === 'name');\r\n    // Look for the name and use unknown if no name property.\r\n    let name;\r\n    if (properties.length !== 1) {\r\n        name = 'unknown';\r\n    } else {\r\n        // Because we filtered out the other property,\r\n        // we only have the name case here.\r\n        name = properties[0].split('=')[1];\r\n    }\r\n\r\n    // Built the Uint8Array Blob parameter from the base64 string.\r\n    const binary = atob(splitted[1]);\r\n    const array = [];\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let i = 0; i < binary.length; i++) {\r\n        array.push(binary.charCodeAt(i));\r\n    }\r\n    // Create the blob object\r\n    const blob = new window.Blob([new Uint8Array(array)], { type });\r\n\r\n    return { blob, name };\r\n}\r\n\r\n// Lowercase first letter of string\r\nexport function lowerCase(str) {\r\n    if (undefined === str) return str;\r\n    return String(str).replace(/^./, s => s.toLocaleLowerCase());\r\n}\r\n\r\n// Greatest common divisor\r\nexport function gcd(a, b) {\r\n    if (b === 0) return a;\r\n    return gcd(b, a % b);\r\n}\r\n\r\n// Least common multiple\r\nexport function scm(a, b) {\r\n    return (a * b) / gcd(a, b);\r\n}\r\n\r\n// Open new page\r\nexport function openNewPage(url, target = '_blank') {\r\n    const a = document.createElement('a');\r\n    a.style.display = 'none';\r\n    a.target = target;\r\n    a.href = url;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n}\r\n","// $ref reference\r\nfunction getPathVal(obj, pathStr) {\r\n    const pathArr = pathStr.split('/');\r\n    for (let i = 0; i < pathArr.length; i += 1) {\r\n        if (obj === undefined) return undefined;\r\n        obj = pathArr[i] === '' ? obj : obj[pathArr[i]];\r\n    }\r\n    return obj;\r\n}\r\n\r\n// Find schema referenced by ref\r\nexport default function findSchemaDefinition($ref, rootSchema = {}) {\r\n    const origRef = $ref;\r\n    if ($ref.startsWith('#')) {\r\n        // Decode URI fragment representation.\r\n        $ref = decodeURIComponent($ref.substring(1));\r\n    } else {\r\n        throw new Error(`Could not find a definition for ${origRef}.`);\r\n    }\r\n    const current = getPathVal(rootSchema, $ref);\r\n\r\n    if (current === undefined) {\r\n        throw new Error(`Could not find a definition for ${origRef}.`);\r\n    }\r\n    if (current.hasOwnProperty('$ref')) {\r\n        return findSchemaDefinition(current.$ref, rootSchema);\r\n    }\r\n    return current;\r\n}\r\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [\"\"];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; var ' + ($coerced) + ' = undefined; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ') && ' + ($data) + '.length == 1) { ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + '; if (' + (it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers)) + ') ' + ($coerced) + ' = ' + ($data) + '; } ';\n        }\n        out += ' if (' + ($coerced) + ' !== undefined) ; ';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($type == 'string') {\n              out += ' else if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' else if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' else if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' else if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' else if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' else {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } if (' + ($coerced) + ' !== undefined) {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? (typeof $thenSch == 'object' && Object.keys($thenSch).length > 0) || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? (typeof $elseSch == 'object' && Object.keys($elseSch).length > 0) || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? (typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0) || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? (typeof $propertySch == 'object' && Object.keys($propertySch).length > 0) || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","/**\r\n * Created by Liu.Jun on 2020/4/30 11:22.\r\n */\r\n\r\n// Using ajv-i18n, this is only for initializing the default language setting\r\n// You can also use the official language pack\r\n// https://github.com/epoberezkin/ajv-i18n/tree/master/localize\r\n\r\n// import localizeZh from './localize/zh';\r\nimport localizeEn from './localize/en';\r\n\r\nexport default {\r\n    $$currentLocalizeFn: localizeEn,\r\n    getCurrentLocalize() {\r\n        return this.$$currentLocalizeFn;\r\n    },\r\n    useLocal(fn) {\r\n        this.$$currentLocalizeFn = fn;\r\n    }\r\n};\r\n","// https://github.com/epoberezkin/ajv-i18n\r\nexport default function localizeEn(errors) {\r\n    if (!(errors && errors.length)) return;\r\n    for (let i = 0; i < errors.length; i += 1) {\r\n        const e = errors[i];\r\n        let out;\r\n        let n;\r\n        let cond;\r\n        switch (e.keyword) {\r\n        case '$ref':\r\n            out = `can't resolve reference ${e.params.ref}`;\r\n            break;\r\n        case 'additionalItems':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT have more than ${n} items`;\r\n            break;\r\n        case 'additionalProperties':\r\n            out = 'should NOT have additional properties';\r\n            break;\r\n        case 'anyOf':\r\n            out = 'should match some schema in anyOf';\r\n            break;\r\n        case 'const':\r\n            out = 'should be equal to constant';\r\n            break;\r\n        case 'contains':\r\n            out = 'should contain a valid item';\r\n            break;\r\n        case 'custom':\r\n            out = `should pass \"${e.keyword}\" keyword validation`;\r\n            break;\r\n        case 'dependencies':\r\n            out = '';\r\n            n = e.params.depsCount;\r\n            out += `should have property ${e.params.deps} when property ${e.params.property} is present`;\r\n            break;\r\n        case 'enum':\r\n            out = 'should be equal to one of the allowed values';\r\n            break;\r\n        case 'exclusiveMaximum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'exclusiveMinimum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'false schema':\r\n            out = 'boolean schema is false';\r\n            break;\r\n        case 'format':\r\n            out = `should match format \"${e.params.format}\"`;\r\n            break;\r\n        case 'formatExclusiveMaximum':\r\n            out = 'formatExclusiveMaximum should be boolean';\r\n            break;\r\n        case 'formatExclusiveMinimum':\r\n            out = 'formatExclusiveMinimum should be boolean';\r\n            break;\r\n        case 'formatMaximum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'formatMinimum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'if':\r\n            out = `should match \"${e.params.failingKeyword}\" schema`;\r\n            break;\r\n        case 'maximum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'maxItems':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT have more than ${n} items`;\r\n            break;\r\n        case 'maxLength':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT be longer than ${n} characters`;\r\n            break;\r\n        case 'maxProperties':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT have more than ${n} properties`;\r\n            break;\r\n        case 'minimum':\r\n            out = '';\r\n            cond = `${e.params.comparison} ${e.params.limit}`;\r\n            out += `should be ${cond}`;\r\n            break;\r\n        case 'minItems':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT have fewer than ${n} items`;\r\n            break;\r\n        case 'minLength':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT be shorter than ${n} characters`;\r\n            break;\r\n        case 'minProperties':\r\n            out = '';\r\n            n = e.params.limit;\r\n            out += `should NOT have fewer than ${n} properties`;\r\n            break;\r\n        case 'multipleOf':\r\n            out = `should be multiple of ${e.params.multipleOf}`;\r\n            break;\r\n        case 'not':\r\n            out = 'should NOT be valid according to schema in \"not\"';\r\n            break;\r\n        case 'oneOf':\r\n            out = 'should match exactly one schema in \"oneOf\"';\r\n            break;\r\n        case 'pattern':\r\n            out = `should match pattern \"${e.params.pattern}\"`;\r\n            break;\r\n        case 'patternRequired':\r\n            out = `should have property matching pattern ${e.params.missingPattern}`;\r\n            break;\r\n        case 'propertyNames':\r\n            out = `property name '${e.params.propertyName}' is invalid`;\r\n            break;\r\n        case 'required':\r\n            out = `should have required property ${e.params.missingProperty}`;\r\n            break;\r\n        case 'switch':\r\n            out = `should pass \"switch\" keyword validation, case ${e.params.caseIndex} fails`;\r\n            break;\r\n        case 'type':\r\n            out = `should be ${e.params.type}`;\r\n            break;\r\n        case 'uniqueItems':\r\n            out = `should NOT have duplicate items (items ## ${e.params.j} and ${e.params.i} are identical)`;\r\n            break;\r\n        default:\r\n            // eslint-disable-next-line no-continue\r\n            continue;\r\n        }\r\n        e.message = out;\r\n    }\r\n}\r\n","/**\r\n * Created by Liu.Jun on 2020/4/25 10:53.\r\n */\r\n\r\n// Move up by index\r\nexport function moveUpAt(target, index) {\r\n    if (index === 0) return false;\r\n    const item = target[index];\r\n    const newItems = [item, target[index - 1]];\r\n    return target.splice(index - 1, 2, ...newItems);\r\n}\r\n\r\n// Move down by index\r\nexport function moveDownAt(target, index) {\r\n    if (index === target.length - 1) return false;\r\n    const item = target[index];\r\n    const newItems = [target[index + 1], item];\r\n    return target.splice(index, 2, ...newItems);\r\n}\r\n\r\n// Remove\r\nexport function removeAt(target, index) {\r\n    // Remove element at specified position in array, return boolean indicating success\r\n    return !!target.splice(index, 1).length;\r\n}\r\n\r\n// Fill array with objects\r\nexport function fillObj(target, data) {\r\n    // Simple copy, throw error on exception\r\n    try {\r\n        if (typeof data === 'object') {\r\n            return target.fill(null).map(() => JSON.parse(JSON.stringify(data)));\r\n        }\r\n    } catch (e) {\r\n        // nothing ...\r\n    }\r\n\r\n    // Default return undefined\r\n    return undefined;\r\n}\r\n\r\n// Split into multiple arrays\r\nexport function cutOff(target, cutOffPointIndex) {\r\n    return target.reduce((preVal, curVal, curIndex) => {\r\n        preVal[curIndex > cutOffPointIndex ? 1 : 0].push(curVal);\r\n        return preVal;\r\n    }, [[], []]);\r\n}\r\n\r\n// Array intersection\r\nexport function intersection(arr1, arr2) {\r\n    return arr1.filter(item => arr2.includes(item));\r\n}\r\n","/**\r\n * @param schema\r\n * @param rootSchema\r\n * @param formData\r\n * @returns {{properties: *}|{}|{properties: *}|{}|{properties: *}|{additionalProperties}|*|{}|{allOf}}\r\n * 源码来自：react-jsonschema-form\r\n * 做了细节和模块调整\r\n * 重写了allOf实现逻辑（解决使用allOf必须根节点同时存在，以及对json-schema-merge-allof依赖包过大）\r\n * 移除对lodash 、json-schema-merge-allof、jsonpointer 等依赖重新实现\r\n * https://github.com/rjsf-team/react-jsonschema-form/blob/master/packages/core/src/utils.js#L621\r\n */\r\n\r\nimport findSchemaDefinition from './findSchemaDefinition';\r\nimport { intersection } from '../arrayUtils';\r\n\r\nimport {\r\n    /* guessType,  mergeSchemas, */ isObject, scm\r\n} from '../utils';\r\n\r\n// import { getMatchingOption, isValid } from './validate';\r\n\r\n// Auto add divider\r\n\r\n// export const ADDITIONAL_PROPERTY_FLAG = '__additional_property';\r\n\r\n// resolve Schema - dependencies\r\n// https://json-schema.org/understanding-json-schema/reference/object.html#dependencies\r\n/*\r\nexport function resolveDependencies(schema, rootSchema, formData) {\r\n    // 从源模式中删除依赖项。\r\n    const { dependencies = {} } = schema;\r\n    let { ...resolvedSchema } = schema;\r\n    if ('oneOf' in resolvedSchema) {\r\n        resolvedSchema = resolvedSchema.oneOf[\r\n            getMatchingOption(formData, resolvedSchema.oneOf, rootSchema)\r\n        ];\r\n    } else if ('anyOf' in resolvedSchema) {\r\n        resolvedSchema = resolvedSchema.anyOf[\r\n            getMatchingOption(formData, resolvedSchema.anyOf, rootSchema)\r\n        ];\r\n    }\r\n    return processDependencies(\r\n        dependencies,\r\n        resolvedSchema,\r\n        rootSchema,\r\n        formData\r\n    );\r\n}\r\n*/\r\n\r\n// 处理依赖关系 dependencies\r\n// https://json-schema.org/understanding-json-schema/reference/object.html#dependencies\r\n/*\r\n\r\nfunction processDependencies(\r\n    dependencies,\r\n    resolvedSchema,\r\n    rootSchema,\r\n    formData\r\n) {\r\n    // Process dependencies updating the local schema properties as appropriate.\r\n    for (const dependencyKey in dependencies) {\r\n        // Skip this dependency if its trigger property is not present.\r\n        if (formData[dependencyKey] === undefined) {\r\n            // eslint-disable-next-line no-continue\r\n            continue;\r\n        }\r\n        // Skip this dependency if it is not included in the schema (such as when dependencyKey is itself a hidden dependency.)\r\n        if (\r\n            resolvedSchema.properties\r\n            && !(dependencyKey in resolvedSchema.properties)\r\n        ) {\r\n            // eslint-disable-next-line no-continue\r\n            continue;\r\n        }\r\n        const {\r\n            [dependencyKey]: dependencyValue,\r\n            ...remainingDependencies\r\n        } = dependencies;\r\n        if (Array.isArray(dependencyValue)) {\r\n            resolvedSchema = withDependentProperties(resolvedSchema, dependencyValue);\r\n        } else if (isObject(dependencyValue)) {\r\n            resolvedSchema = withDependentSchema(\r\n                resolvedSchema,\r\n                rootSchema,\r\n                formData,\r\n                dependencyKey,\r\n                dependencyValue\r\n            );\r\n        }\r\n        return processDependencies(\r\n            remainingDependencies,\r\n            resolvedSchema,\r\n            rootSchema,\r\n            formData\r\n        );\r\n    }\r\n    return resolvedSchema;\r\n}\r\n*/\r\n\r\n// 属性依赖\r\n// https://json-schema.org/understanding-json-schema/reference/object.html#property-dependencies\r\n\r\n/*\r\nfunction withDependentProperties(schema, additionallyRequired) {\r\n    if (!additionallyRequired) {\r\n        return schema;\r\n    }\r\n    const required = Array.isArray(schema.required)\r\n        ? Array.from(new Set([...schema.required, ...additionallyRequired]))\r\n        : additionallyRequired;\r\n    return { ...schema, required };\r\n}\r\n*/\r\n\r\n// schema 依赖\r\n// https://json-schema.org/understanding-json-schema/reference/object.html#schema-dependencies\r\n/*\r\nfunction withDependentSchema(\r\n    schema,\r\n    rootSchema,\r\n    formData,\r\n    dependencyKey,\r\n    dependencyValue\r\n) {\r\n    const { oneOf, ...dependentSchema } = retrieveSchema(\r\n        dependencyValue,\r\n        rootSchema,\r\n        formData\r\n    );\r\n    schema = mergeSchemas(schema, dependentSchema);\r\n    // Since it does not contain oneOf, we return the original schema.\r\n    if (oneOf === undefined) {\r\n        return schema;\r\n    } if (!Array.isArray(oneOf)) {\r\n        throw new Error(`invalid: it is some ${typeof oneOf} instead of an array`);\r\n    }\r\n    // Resolve $refs inside oneOf.\r\n    const resolvedOneOf = oneOf.map(subschema => (subschema.hasOwnProperty('$ref')\r\n        ? resolveReference(subschema, rootSchema, formData)\r\n        : subschema));\r\n    return withExactlyOneSubschema(\r\n        schema,\r\n        rootSchema,\r\n        formData,\r\n        dependencyKey,\r\n        resolvedOneOf\r\n    );\r\n}\r\n\r\nfunction withExactlyOneSubschema(\r\n    schema,\r\n    rootSchema,\r\n    formData,\r\n    dependencyKey,\r\n    oneOf\r\n) {\r\n    // eslint-disable-next-line array-callback-return,consistent-return\r\n    const validSubschemas = oneOf.filter((subschema) => {\r\n        if (!subschema.properties) {\r\n            return false;\r\n        }\r\n        const { [dependencyKey]: conditionPropertySchema } = subschema.properties;\r\n        if (conditionPropertySchema) {\r\n            const conditionSchema = {\r\n                type: 'object',\r\n                properties: {\r\n                    [dependencyKey]: conditionPropertySchema,\r\n                },\r\n            };\r\n\r\n            return isValid(conditionSchema, formData);\r\n        }\r\n    });\r\n    if (validSubschemas.length !== 1) {\r\n        console.warn(\r\n            \"ignoring oneOf in dependencies because there isn't exactly one subschema that is valid\"\r\n        );\r\n        return schema;\r\n    }\r\n    const subschema = validSubschemas[0];\r\n    const {\r\n        // eslint-disable-next-line no-unused-vars\r\n        [dependencyKey]: conditionPropertySchema,\r\n        ...dependentSubschema\r\n    } = subschema.properties;\r\n    const dependentSchema = { ...subschema, properties: dependentSubschema };\r\n    return mergeSchemas(\r\n        schema,\r\n        retrieveSchema(dependentSchema, rootSchema, formData)\r\n    );\r\n}\r\n*/\r\n\r\n// resolve Schema - $ref\r\n// https://json-schema.org/understanding-json-schema/structuring.html#using-id-with-ref\r\nfunction resolveReference(schema, rootSchema, formData) {\r\n    // Retrieve the referenced schema definition.\r\n    const $refSchema = findSchemaDefinition(schema.$ref, rootSchema);\r\n    // Drop the $ref property of the source schema.\r\n    // eslint-disable-next-line no-unused-vars\r\n    const { $ref, ...localSchema } = schema;\r\n    // Update referenced schema definition with local schema properties.\r\n    return retrieveSchema(\r\n        { ...$refSchema, ...localSchema },\r\n        rootSchema,\r\n        formData\r\n    );\r\n}\r\n\r\n\r\n// Deep recursive merge, merge every 2 items of allOf\r\nfunction mergeSchemaAllOf(...args) {\r\n    if (args.length < 2) return args[0];\r\n\r\n    let preVal = {};\r\n    const copyArgs = [...args];\r\n    while (copyArgs.length >= 2) {\r\n        const obj1 = isObject(copyArgs[0]) ? copyArgs[0] : {};\r\n        const obj2 = isObject(copyArgs[1]) ? copyArgs[1] : {};\r\n\r\n        preVal = Object.assign({}, obj1);\r\n        Object.keys(obj2).reduce((acc, key) => {\r\n            const left = obj1[key];\r\n            const right = obj2[key];\r\n\r\n            // Left or right one side is object\r\n            if (isObject(left) || isObject(right)) {\r\n\r\n                // Both sides are objects\r\n                if (isObject(left) && isObject(right)) {\r\n                    acc[key] = mergeSchemaAllOf(left, right);\r\n                } else {\r\n                    // One side is object\r\n                    const [objTypeData, baseTypeData] = isObject(left) ? [left, right] : [right, left];\r\n\r\n                    if (key === 'additionalProperties') {\r\n                        // Adapt type: one side configured object, other side not configured or true/false\r\n                        // {\r\n                        //     additionalProperties: {\r\n                        //         type: 'string',\r\n                        //     },\r\n                        //     additionalProperties: false\r\n                        // }\r\n                        acc[key] = baseTypeData === true ? objTypeData : false; // default false\r\n                    } else {\r\n                        acc[key] = objTypeData;\r\n                    }\r\n                }\r\n                // One side is array\r\n            } else if (Array.isArray(left) || Array.isArray(right)) {\r\n\r\n                // Both are arrays, take intersection\r\n                if (Array.isArray(left) && Array.isArray(right)) {\r\n\r\n                    // 数组里面嵌套对象不支持 因为我不知道该怎么合并\r\n                    if (isObject(left[0]) || isObject(right[0])) {\r\n                        throw new Error('暂不支持如上数组对象元素合并');\r\n                    }\r\n\r\n                    // 交集\r\n                    const intersectionArray = intersection([].concat(left), [].concat(right));\r\n\r\n                    // 没有交集\r\n                    if (intersectionArray.length <= 0) {\r\n                        throw new Error('无法合并如上数据');\r\n                    }\r\n\r\n                    if (intersectionArray.length === 0 && key === 'type') {\r\n                        // 自己取出值\r\n                        acc[key] = intersectionArray[0];\r\n                    } else {\r\n                        acc[key] = intersectionArray;\r\n                    }\r\n                } else {\r\n                    // 其中一边为 Array\r\n                    // 查找包含关系\r\n                    const [arrayTypeData, baseTypeData] = Array.isArray(left) ? [left, right] : [right, left];\r\n                    // 空值直接合并另一边\r\n                    if (baseTypeData === undefined) {\r\n                        acc[key] = arrayTypeData;\r\n                    } else {\r\n                        if (!arrayTypeData.includes(baseTypeData)) {\r\n                            throw new Error('无法合并如下数据');\r\n                        }\r\n                        acc[key] = baseTypeData;\r\n                    }\r\n                }\r\n            } else if (left !== undefined && right !== undefined) {\r\n                // 两边都不是 undefined - 基础数据类型 string number boolean...\r\n                if (key === 'maxLength' || key === 'maximum' || key === 'maxItems' || key === 'exclusiveMaximum' || key === 'maxProperties') {\r\n                    acc[key] = Math.min(left, right);\r\n                } else if (key === 'minLength' || key === 'minimum' || key === 'minItems' || key === 'exclusiveMinimum' || key === 'minProperties') {\r\n                    acc[key] = Math.max(left, right);\r\n                } else if (key === 'multipleOf') {\r\n                    // 获取最小公倍数\r\n                    acc[key] = scm(left, right);\r\n                } else {\r\n                    // if (left !== right) {\r\n                    //     throw new Error('无法合并如下数据');\r\n                    // }\r\n                    acc[key] = left;\r\n                }\r\n            } else {\r\n                // 一边为undefined\r\n                acc[key] = left === undefined ? right : left;\r\n            }\r\n            return acc;\r\n        }, preVal);\r\n\r\n        // First in first out\r\n        copyArgs.splice(0, 2, preVal);\r\n    }\r\n\r\n    return preVal;\r\n}\r\n\r\n// resolve Schema - allOf\r\nexport function resolveAllOf(schema, rootSchema, formData) {\r\n    // allOf item中可能存在 $ref\r\n    const resolvedAllOfRefSchema = {\r\n        ...schema,\r\n        allOf: schema.allOf.map(allOfItem => retrieveSchema(allOfItem, rootSchema, formData)),\r\n    };\r\n\r\n    try {\r\n        const { allOf, ...originProperties } = resolvedAllOfRefSchema;\r\n        return mergeSchemaAllOf(originProperties, ...allOf);\r\n    } catch (e) {\r\n        console.error(`Cannot merge allOf, discarding allOf config and continuing to render: \\n${e}`);\r\n        // eslint-disable-next-line no-unused-vars\r\n        const { allOf: errAllOf, ...resolvedSchemaWithoutAllOf } = resolvedAllOfRefSchema;\r\n        return resolvedSchemaWithoutAllOf;\r\n    }\r\n}\r\n\r\n// resolve Schema\r\nfunction resolveSchema(schema, rootSchema = {}, formData = {}) {\r\n    // allOf 、$ref、dependencies 可能被同时配置\r\n\r\n    // allOf\r\n    if (schema.hasOwnProperty('allOf')) {\r\n        schema = resolveAllOf(schema, rootSchema, formData);\r\n    }\r\n\r\n    // $ref\r\n    if (schema.hasOwnProperty('$ref')) {\r\n        schema = resolveReference(schema, rootSchema, formData);\r\n    }\r\n\r\n    // dependencies\r\n    /*\r\n    if (schema.hasOwnProperty('dependencies')) {\r\n        const resolvedSchema = resolveDependencies(schema, rootSchema, formData);\r\n        schema = retrieveSchema(resolvedSchema, rootSchema, formData);\r\n    }\r\n    */\r\n\r\n    // additionalProperties\r\n    /*\r\n    const hasAdditionalProperties = schema.hasOwnProperty('additionalProperties') && schema.additionalProperties !== false;\r\n    if (hasAdditionalProperties) {\r\n        return stubExistingAdditionalProperties(\r\n            schema,\r\n            rootSchema,\r\n            formData\r\n        );\r\n    }\r\n    */\r\n\r\n    return schema;\r\n}\r\n\r\n// 这个函数将为formData中的每个键创建新的“属性”项\r\n// 查找到附加属性统一到properties[key]格式 并且打上标准\r\n/* function stubExistingAdditionalProperties(\r\n    schema,\r\n    rootSchema = {},\r\n    formData = {}\r\n) {\r\n    // clone the schema so we don't ruin the consumer's original\r\n    schema = {\r\n        ...schema,\r\n        properties: { ...schema.properties },\r\n    };\r\n\r\n    Object.keys(formData).forEach((key) => {\r\n        if (schema.properties.hasOwnProperty(key)) {\r\n            // No need to stub, our schema already has the property\r\n            return;\r\n        }\r\n\r\n        let additionalProperties;\r\n        if (schema.additionalProperties.hasOwnProperty('$ref')) {\r\n            additionalProperties = retrieveSchema(\r\n                { $ref: schema.additionalProperties.$ref },\r\n                rootSchema,\r\n                formData\r\n            );\r\n        } else if (schema.additionalProperties.hasOwnProperty('type')) {\r\n            additionalProperties = { ...schema.additionalProperties };\r\n        } else {\r\n            additionalProperties = { type: guessType(formData[key]) };\r\n        }\r\n\r\n        // The type of our new key should match the additionalProperties value;\r\n        // 把追加进去的属性设置为标准 schema格式，同时打上标志\r\n        schema.properties[key] = additionalProperties;\r\n        // Set our additional property flag so we know it was dynamically added\r\n        schema.properties[key][ADDITIONAL_PROPERTY_FLAG] = true;\r\n    });\r\n\r\n    return schema;\r\n} */\r\n\r\n// Index current node\r\nexport default function retrieveSchema(schema, rootSchema = {}, formData = {}) {\r\n    if (!isObject(schema)) {\r\n        return {};\r\n    }\r\n\r\n    return resolveSchema(schema, rootSchema, formData);\r\n}\r\n","import retrieveSchema from './schema/retriev';\r\nimport { getPathVal } from './vueCommonUtils';\r\n\r\nimport { getSchemaType, isObject } from './utils';\r\n\r\n// General expression handling method\r\n// This breaks the JSON Schema specification\r\nconst regExpression = /{{(.*)}}/;\r\nfunction handleExpression(rootFormData, curNodePath, expression, fallBack) {\r\n    // Not configured\r\n    if (undefined === expression) {\r\n        return undefined;\r\n    }\r\n\r\n    // Configured mustache expression\r\n    const matchExpression = regExpression.exec(expression);\r\n    regExpression.lastIndex = 0; // Reset index\r\n    if (matchExpression) {\r\n        const code = matchExpression[1].trim();\r\n\r\n        // eslint-disable-next-line no-new-func\r\n        const fn = new Function('parentFormData', 'rootFormData', `return ${code}`);\r\n\r\n        return fn(getPathVal(rootFormData, curNodePath, 1), rootFormData);\r\n    }\r\n\r\n    // Fallback\r\n    return fallBack();\r\n}\r\n\r\nexport function replaceArrayIndex({ schema, uiSchema } = {}, index) {\r\n    const itemUiOptions = getUiOptions({\r\n        schema,\r\n        uiSchema,\r\n        containsSpec: false\r\n    });\r\n\r\n    return ['title', 'description'].reduce((preVal, curItem) => {\r\n        if (itemUiOptions[curItem]) {\r\n            preVal[`ui:${curItem}`] = String(itemUiOptions[curItem]).replace(/\\$index/g, index + 1);\r\n        }\r\n        return preVal;\r\n    }, {});\r\n}\r\n\r\n// Is hidden Widget\r\nexport function isHiddenWidget({\r\n    schema = {},\r\n    uiSchema = {},\r\n    curNodePath = '',\r\n    rootFormData = {}\r\n}) {\r\n    const widget = uiSchema['ui:widget'] || schema['ui:widget'];\r\n    const hiddenExpression = uiSchema['ui:hidden'] || schema['ui:hidden'];\r\n\r\n    // Support configuring ui:hidden expression\r\n    return widget === 'HiddenWidget'\r\n        || widget === 'hidden'\r\n        || !!handleExpression(rootFormData, curNodePath, hiddenExpression, () => {\r\n            // Configured function\r\n            if (typeof hiddenExpression === 'function') {\r\n                return hiddenExpression(getPathVal(rootFormData, curNodePath, 1), rootFormData);\r\n            }\r\n\r\n            // Configured constant ??\r\n            return hiddenExpression;\r\n        });\r\n}\r\n\r\n// Resolve current node ui field\r\nexport function getUiField(FIELDS_MAP, {\r\n    schema = {},\r\n    uiSchema = {},\r\n}) {\r\n    const field = schema['ui:field'] || uiSchema['ui:field'];\r\n\r\n    // Vue component, or registered component name\r\n    if (typeof field === 'function' || typeof field === 'object' || typeof field === 'string') {\r\n        return {\r\n            field,\r\n            fieldProps: uiSchema['ui:fieldProps'] || schema['ui:fieldProps'], // Custom field, support passing additional props\r\n        };\r\n    }\r\n\r\n    // Type default field\r\n    const fieldCtor = FIELDS_MAP[getSchemaType(schema)];\r\n    if (fieldCtor) {\r\n        return {\r\n            field: fieldCtor\r\n        };\r\n    }\r\n\r\n    // If contains oneOf anyOf return empty without error\r\n    // SchemaField will append oneOf anyOf information\r\n    if (!fieldCtor && (schema.anyOf || schema.oneOf)) {\r\n        return {\r\n            field: null\r\n        };\r\n    }\r\n\r\n    // Unsupported type\r\n    console.error('Current schema:', schema);\r\n    throw new Error(`Unsupported field type, type: ${schema.type}`);\r\n}\r\n\r\n// Resolve user configured uiSchema options\r\nexport function getUserUiOptions({\r\n    schema = {},\r\n    uiSchema = {},\r\n    curNodePath, // undefined does not process expression\r\n    rootFormData = {}\r\n}) {\r\n    // Support uiSchema configured in schema file\r\n    return Object.assign({}, ...[schema, uiSchema].map(itemSchema => Object.keys(itemSchema)\r\n        .reduce((options, key) => {\r\n            const value = itemSchema[key];\r\n            // Merge options inside and outside\r\n            if (key === 'ui:options' && isObject(value)) {\r\n                return { ...options, ...value };\r\n            }\r\n\r\n            // https://github.com/lljj-x/vue-json-schema-form/issues/170\r\n            // ui:hidden needs to be used as a built-in property and cannot be directly passed to widget component.\r\n            //  If component needs it, it can only be passed using hidden in ui:options\r\n            if (key !== 'ui:hidden') {\r\n                // Handle ui:xxx parameters\r\n                if (key.indexOf('ui:') === 0) {\r\n                    // Only support expression for ui:xxx configuration format\r\n                    return {\r\n                        ...options,\r\n                        [key.substring(3)]: curNodePath === undefined ? value : handleExpression(rootFormData, curNodePath, value, () => value)\r\n                    };\r\n                }\r\n\r\n                // Handle fui:xxx parameters, support all options configured through function\r\n                if (key.indexOf('fui:') === 0) {\r\n                    return {\r\n                        ...options,\r\n                        [key.substring(4)]: value.call(\r\n                            null,\r\n                            getPathVal(rootFormData, curNodePath, 1),\r\n                            rootFormData,\r\n                            curNodePath\r\n                        )\r\n                    };\r\n                }\r\n            }\r\n\r\n            return options;\r\n        }, {})));\r\n}\r\n\r\n// Resolve ui options parameters of current node\r\nexport function getUiOptions({\r\n    schema = {},\r\n    uiSchema = {},\r\n    containsSpec = true,\r\n    curNodePath,\r\n    rootFormData,\r\n}) {\r\n    const spec = {};\r\n    if (containsSpec) {\r\n        spec.readonly = !!schema.readOnly;\r\n        if (undefined !== schema.multipleOf) {\r\n            // Component counter step\r\n            spec.step = schema.multipleOf;\r\n        }\r\n        if (schema.minimum || schema.minimum === 0) {\r\n            spec.min = schema.minimum;\r\n        }\r\n        if (schema.maximum || schema.maximum === 0) {\r\n            spec.max = schema.maximum;\r\n        }\r\n\r\n        if (schema.minLength || schema.minLength === 0) {\r\n            spec.minlength = schema.minLength;\r\n        }\r\n        if (schema.maxLength || schema.maxLength === 0) {\r\n            spec.maxlength = schema.maxLength;\r\n        }\r\n\r\n        if (schema.format === 'date-time' || schema.format === 'date') {\r\n            // Array type time range\r\n            // Breaks schema specification, type array configured with format\r\n            if (schema.type === 'array') {\r\n                spec.isRange = true;\r\n                spec.isNumberValue = !(schema.items && schema.items.type === 'string');\r\n            } else {\r\n                // String ISO time\r\n                spec.isNumberValue = !(schema.type === 'string');\r\n            }\r\n        }\r\n    }\r\n\r\n    if (schema.title) spec.title = schema.title;\r\n    if (schema.description) spec.description = schema.description;\r\n\r\n    // Calculate ui configuration\r\n    return {\r\n        ...spec,\r\n\r\n        // User configuration has highest priority\r\n        ...getUserUiOptions({\r\n            schema,\r\n            uiSchema,\r\n            curNodePath,\r\n            rootFormData\r\n        })\r\n    };\r\n}\r\n\r\n// Get ui configuration of current node (options + widget)\r\n// Process into format needed by Widget component\r\nexport function getWidgetConfig({\r\n    schema = {},\r\n    uiSchema = {},\r\n    curNodePath,\r\n    rootFormData,\r\n}, fallback = null) {\r\n    const uiOptions = getUiOptions({\r\n        schema,\r\n        uiSchema,\r\n        curNodePath,\r\n        rootFormData,\r\n    });\r\n\r\n    // No Widget configured, each Field component judges by type\r\n    if (!uiOptions.widget && fallback) {\r\n        Object.assign(uiOptions, fallback({\r\n            schema,\r\n            uiSchema\r\n        }));\r\n    }\r\n\r\n    const {\r\n        widget,\r\n        title: label,\r\n        labelWidth,\r\n        description,\r\n        attrs: widgetAttrs,\r\n        class: widgetClass,\r\n        style: widgetStyle,\r\n        widgetListeners,\r\n        fieldAttrs,\r\n        fieldStyle,\r\n        fieldClass,\r\n        emptyValue,\r\n        width,\r\n        getWidget,\r\n        renderScopedSlots,\r\n        renderChildren,\r\n        onChange,\r\n        required: uiRequired,\r\n        ...uiProps\r\n    } = uiOptions;\r\n\r\n    return {\r\n        widget,\r\n        label,\r\n        labelWidth,\r\n        description,\r\n        widgetAttrs,\r\n        widgetClass,\r\n        widgetStyle,\r\n        fieldAttrs,\r\n        width,\r\n        fieldStyle,\r\n        fieldClass,\r\n        emptyValue,\r\n        getWidget,\r\n        renderScopedSlots,\r\n        renderChildren,\r\n        onChange,\r\n        widgetListeners,\r\n        uiProps,\r\n        uiRequired\r\n    };\r\n}\r\n\r\n// Resolve user configured errorSchema options\r\nexport function getUserErrOptions({\r\n    schema = {},\r\n    uiSchema = {},\r\n    errorSchema = {}\r\n}) {\r\n    return Object.assign({}, ...[schema, uiSchema, errorSchema].map(itemSchema => Object.keys(itemSchema)\r\n        .reduce((options, key) => {\r\n            const value = itemSchema[key];\r\n            // options 内外合并\r\n            if (key === 'err:options' && isObject(value)) {\r\n                return { ...options, ...value };\r\n            }\r\n\r\n            if (key.indexOf('err:') === 0) {\r\n                return { ...options, [key.substring(4)]: value };\r\n            }\r\n\r\n            return options;\r\n        }, {})));\r\n}\r\n\r\n// ui:order object-> properties sorting\r\nexport function orderProperties(properties, order) {\r\n    if (!Array.isArray(order)) {\r\n        return properties;\r\n    }\r\n\r\n    const arrayToHash = arr => arr.reduce((prev, curr) => {\r\n        prev[curr] = true;\r\n        return prev;\r\n    }, {});\r\n    const errorPropList = arr => (arr.length > 1\r\n        ? `properties '${arr.join(\"', '\")}'`\r\n        : `property '${arr[0]}'`);\r\n    const propertyHash = arrayToHash(properties);\r\n    const orderFiltered = order.filter(\r\n        prop => prop === '*' || propertyHash[prop]\r\n    );\r\n    const orderHash = arrayToHash(orderFiltered);\r\n\r\n    const rest = properties.filter(prop => !orderHash[prop]);\r\n    const restIndex = orderFiltered.indexOf('*');\r\n    if (restIndex === -1) {\r\n        if (rest.length) {\r\n            throw new Error(\r\n                `uiSchema order list does not contain ${errorPropList(rest)}`\r\n            );\r\n        }\r\n        return orderFiltered;\r\n    }\r\n    if (restIndex !== orderFiltered.lastIndexOf('*')) {\r\n        throw new Error('uiSchema order list contains more than one wildcard item');\r\n    }\r\n\r\n    const complete = [...orderFiltered];\r\n    complete.splice(restIndex, 1, ...rest);\r\n    return complete;\r\n}\r\n\r\n/**\r\n * Single match\r\n * Constant, or only one enum\r\n */\r\nexport function isConstant(schema) {\r\n    return (\r\n        (Array.isArray(schema.enum) && schema.enum.length === 1)\r\n        || schema.hasOwnProperty('const')\r\n    );\r\n}\r\n\r\nexport function toConstant(schema) {\r\n    if (Array.isArray(schema.enum) && schema.enum.length === 1) {\r\n        return schema.enum[0];\r\n    } if (schema.hasOwnProperty('const')) {\r\n        return schema.const;\r\n    }\r\n    throw new Error('schema cannot be inferred as a constant');\r\n}\r\n\r\n/**\r\n * Is select list\r\n * Enum or oneOf anyOf where each item has only one fixed constant value\r\n * @param _schema\r\n * @param rootSchema\r\n * @returns {boolean|*}\r\n */\r\nexport function isSelect(_schema, rootSchema = {}) {\r\n    const schema = retrieveSchema(_schema, rootSchema);\r\n    const altSchemas = schema.oneOf || schema.anyOf;\r\n    if (Array.isArray(schema.enum)) {\r\n        return true;\r\n    } if (Array.isArray(altSchemas)) {\r\n        return altSchemas.every(altSchemasItem => isConstant(altSchemasItem));\r\n    }\r\n    return false;\r\n}\r\n\r\n// Items are all objects\r\nexport function isFixedItems(schema) {\r\n    return (\r\n        Array.isArray(schema.items)\r\n        && schema.items.length > 0\r\n        && schema.items.every(item => isObject(item))\r\n    );\r\n}\r\n\r\n// Is multi-select\r\nexport function isMultiSelect(schema, rootSchema = {}) {\r\n    if (!schema.uniqueItems || !schema.items) {\r\n        return false;\r\n    }\r\n    return isSelect(schema.items, rootSchema);\r\n}\r\n\r\n// array additionalItems\r\n// https://json-schema.org/understanding-json-schema/reference/array.html#tuple-validation\r\nexport function allowAdditionalItems(schema) {\r\n    if (schema.additionalItems === true) {\r\n        console.warn('additionalItems=true is currently not supported');\r\n    }\r\n    return isObject(schema.additionalItems);\r\n}\r\n\r\n// Dropdown options\r\nexport function optionsList(schema, uiSchema, curNodePath, rootFormData) {\r\n    // enum\r\n    if (schema.enum) {\r\n        const uiOptions = getUserUiOptions({\r\n            schema,\r\n            uiSchema,\r\n            curNodePath,\r\n            rootFormData\r\n        });\r\n\r\n        // ui configured enumNames has priority\r\n        const enumNames = uiOptions.enumNames || schema.enumNames;\r\n        return schema.enum.map((value, i) => {\r\n            const label = (enumNames && enumNames[i]) || String(value);\r\n            return { label, value };\r\n        });\r\n    }\r\n\r\n    // oneOf | anyOf\r\n    const altSchemas = schema.oneOf || schema.anyOf;\r\n    const altUiSchemas = uiSchema.oneOf || uiSchema.anyOf;\r\n    return altSchemas.map((curSchema, i) => {\r\n        const uiOptions = (altUiSchemas && altUiSchemas[i]) ? getUserUiOptions({\r\n            schema: curSchema,\r\n            uiSchema: altUiSchemas[i],\r\n            curNodePath,\r\n            rootFormData\r\n        }) : {};\r\n        const value = toConstant(curSchema);\r\n        const label = uiOptions.title || curSchema.title || String(value);\r\n        return { label, value };\r\n    });\r\n\r\n}\r\n\r\nexport function fallbackLabel(oriLabel, isFallback, curNodePath) {\r\n    if (oriLabel) return oriLabel;\r\n    if (isFallback) {\r\n        const backLabel = curNodePath.split('.').pop();\r\n\r\n        // Filter pure numeric strings\r\n        if (backLabel && (backLabel !== `${Number(backLabel)}`)) return backLabel;\r\n    }\r\n\r\n    return '';\r\n}\r\n","import Ajv from 'ajv';\r\nimport i18n from '../i18n';\r\nimport retrieveSchema from './retriev';\r\n\r\nimport {\r\n    isObject, deepEquals\r\n} from '../utils';\r\nimport { getUserErrOptions } from '../formUtils';\r\n\r\nlet ajv = createAjvInstance();\r\n\r\nlet formerCustomFormats = null;\r\nlet formerMetaSchema = null;\r\n\r\n// Create instance\r\nfunction createAjvInstance() {\r\n    const ajvInstance = new Ajv({\r\n        errorDataPath: 'property',\r\n        allErrors: true,\r\n        multipleOfPrecision: 8,\r\n        schemaId: 'auto',\r\n        unknownFormats: 'ignore',\r\n    });\r\n\r\n    // 添加base-64 format\r\n    ajvInstance.addFormat(\r\n        'data-url',\r\n        /^data:([a-z]+\\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/\r\n    );\r\n\r\n    // 添加color format\r\n    ajvInstance.addFormat(\r\n        'color',\r\n        // eslint-disable-next-line max-len\r\n        /^(#?([0-9A-Fa-f]{3,4}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgba?|hsla?)\\(.*\\))$/\r\n    );\r\n    return ajvInstance;\r\n}\r\n\r\n/**\r\n * Transform error output from ajv to the format used by jsonschema\r\n * At some point, components should be updated to support ajv.\r\n */\r\nfunction transformAjvErrors(errors = []) {\r\n    if (errors === null) {\r\n        return [];\r\n    }\r\n\r\n    return errors.map((e) => {\r\n        const {\r\n            dataPath, keyword, message, params, schemaPath\r\n        } = e;\r\n        const property = `${dataPath}`;\r\n\r\n        // put data in expected format\r\n        return {\r\n            name: keyword,\r\n            property,\r\n            message,\r\n            params, // specific to ajv\r\n            stack: `${property} ${message}`.trim(),\r\n            schemaPath,\r\n        };\r\n    });\r\n}\r\n\r\n/**\r\n * Validate formData through schema and return error information\r\n * @param formData Data to validate\r\n * @param schema\r\n * @param transformErrors function - Transform errors, such as personalized configuration\r\n * @param additionalMetaSchemas Array - Add ajv metaSchema\r\n * @param customFormats Add ajv custom formats\r\n * @returns {{errors: ([]|{stack: string, schemaPath: *, name: *, property: string, message: *, params: *}[])}}\r\n */\r\nexport function ajvValidateFormData({\r\n    formData,\r\n    schema,\r\n    transformErrors,\r\n    additionalMetaSchemas = [],\r\n    customFormats = {}\r\n} = {}) {\r\n    const hasNewMetaSchemas = !deepEquals(formerMetaSchema, additionalMetaSchemas);\r\n    const hasNewFormats = !deepEquals(formerCustomFormats, customFormats);\r\n\r\n    // Changed Meta or adjusted format config, reset new instance\r\n    if (hasNewMetaSchemas || hasNewFormats) {\r\n        ajv = createAjvInstance();\r\n    }\r\n\r\n    // Add more schemas to validate\r\n    if (\r\n        additionalMetaSchemas\r\n        && hasNewMetaSchemas\r\n        && Array.isArray(additionalMetaSchemas)\r\n    ) {\r\n        ajv.addMetaSchema(additionalMetaSchemas);\r\n        formerMetaSchema = additionalMetaSchemas;\r\n    }\r\n\r\n    // Register custom formats - unchanged, register only once - otherwise recreate instance\r\n    if (customFormats && hasNewFormats && isObject(customFormats)) {\r\n        Object.keys(customFormats).forEach((formatName) => {\r\n            ajv.addFormat(formatName, customFormats[formatName]);\r\n        });\r\n\r\n        formerCustomFormats = customFormats;\r\n    }\r\n\r\n    let validationError = null;\r\n    try {\r\n        ajv.validate(schema, formData);\r\n    } catch (err) {\r\n        validationError = err;\r\n    }\r\n\r\n    // ajv default multilingual processing\r\n    i18n.getCurrentLocalize()(ajv.errors);\r\n\r\n    let errors = transformAjvErrors(ajv.errors);\r\n\r\n    // Clear errors\r\n    ajv.errors = null;\r\n\r\n    // Handle exceptions\r\n    const noProperMetaSchema = validationError\r\n        && validationError.message\r\n        && typeof validationError.message === 'string'\r\n        && validationError.message.includes('no schema with key or ref ');\r\n\r\n    if (noProperMetaSchema) {\r\n        errors = [\r\n            ...errors,\r\n            {\r\n                stack: validationError.message,\r\n            },\r\n        ];\r\n    }\r\n\r\n    // Transform errors, such as passing in custom errors\r\n    if (typeof transformErrors === 'function') {\r\n        errors = transformErrors(errors);\r\n    }\r\n\r\n    return {\r\n        errors\r\n    };\r\n}\r\n\r\n// Validate formData and transform error messages\r\nexport function validateFormDataAndTransformMsg({\r\n    formData,\r\n    schema,\r\n    uiSchema,\r\n    transformErrors,\r\n    additionalMetaSchemas = [],\r\n    customFormats = {},\r\n    errorSchema = {},\r\n    required = false,\r\n    propPath = '',\r\n    isOnlyFirstError = true, // Only take first error message\r\n} = {}) {\r\n    // Whether to filter root node errors, fixed to root only\r\n    const filterRootNodeError = true;\r\n\r\n    // Validate required information, isEmpty check\r\n    // Special handling for array types configured with format\r\n    const emptyArray = (schema.type === 'array' && Array.isArray(formData) && formData.length === 0);\r\n    const isEmpty = formData === undefined || emptyArray;\r\n\r\n    if (required) {\r\n        if (isEmpty) {\r\n            const requireErrObj = {\r\n                keyword: 'required',\r\n                params: {\r\n                    missingProperty: propPath\r\n                }\r\n            };\r\n\r\n            // User set validation message\r\n            const errSchemaMsg = getUserErrOptions({\r\n                schema,\r\n                uiSchema,\r\n                errorSchema\r\n            }).required;\r\n            if (errSchemaMsg) {\r\n                requireErrObj.message = errSchemaMsg;\r\n            } else {\r\n                // Process multilingual require message (ajv modifies original reference)\r\n                i18n.getCurrentLocalize()([requireErrObj]);\r\n            }\r\n            return [requireErrObj];\r\n        }\r\n    } else if (isEmpty && !emptyArray) {\r\n        // Non-required, empty, validation passes\r\n        return [];\r\n    }\r\n\r\n    // Validate ajv error messages\r\n    let ajvErrors = ajvValidateFormData({\r\n        formData,\r\n        schema,\r\n        transformErrors,\r\n        additionalMetaSchemas,\r\n        customFormats,\r\n    }).errors;\r\n\r\n    // Filter top-level errors\r\n    if (filterRootNodeError) {\r\n        ajvErrors = ajvErrors.filter(\r\n            item => (item.property === ''\r\n                && (!item.schemaPath.includes('#/anyOf/') && !item.schemaPath.includes('#/oneOf/')))\r\n            || item.name === 'additionalProperties'\r\n        );\r\n    }\r\n\r\n    const userErrOptions = getUserErrOptions({\r\n        schema,\r\n        uiSchema,\r\n        errorSchema\r\n    });\r\n\r\n    return (isOnlyFirstError && ajvErrors.length > 0 ? [ajvErrors[0]] : ajvErrors).reduce((preErrors, errorItem) => {\r\n        // Get errorSchema config with priority\r\n        errorItem.message = userErrOptions[errorItem.name] !== undefined ? userErrOptions[errorItem.name] : errorItem.message;\r\n        preErrors.push(errorItem);\r\n        return preErrors;\r\n    }, []);\r\n}\r\n\r\n/**\r\n * Validate data according to schema, return true if data is valid, otherwise return false. If schema is invalid, this function will return false.\r\n * @param schema\r\n * @param data\r\n * @returns {boolean|PromiseLike<any>}\r\n */\r\nexport function isValid(schema, data) {\r\n    try {\r\n        return ajv.validate(schema, data);\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n}\r\n\r\n// ajv valida\r\nexport function ajvValid(schema, data) {\r\n    return ajv.validate(schema, data);\r\n}\r\n\r\n// If not found\r\n// return -1\r\nexport function getMatchingIndex(formData, options, rootSchema, haveAllFields = false) {\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let i = 0; i < options.length; i++) {\r\n        const option = retrieveSchema(options[i], rootSchema, formData);\r\n\r\n        // If the schema describes an object then we need to add slightly more\r\n        // strict matching to the schema, because unless the schema uses the\r\n        // \"requires\" keyword, an object will match the schema as long as it\r\n        // doesn't have matching keys with a conflicting type. To do this we use an\r\n        // \"anyOf\" with an array of requires. This augmentation expresses that the\r\n        // schema should match if any of the keys in the schema are present on the\r\n        // object and pass validation.\r\n        if (option.properties) {\r\n            // Create an \"anyOf\" schema that requires at least one of the keys in the\r\n            // \"properties\" object\r\n            const requiresAnyOf = {\r\n                // If descendant nodes have $ref, need normal reference\r\n                ...(rootSchema.definitions ? {\r\n                    definitions: rootSchema.definitions\r\n                } : {}),\r\n                anyOf: Object.keys(option.properties).map(key => ({\r\n                    required: [key],\r\n                })),\r\n            };\r\n\r\n            let augmentedSchema;\r\n\r\n            // If the \"anyOf\" keyword already exists, wrap the augmentation in an \"allOf\"\r\n            if (option.anyOf) {\r\n                // Create a shallow clone of the option\r\n                const { ...shallowClone } = option;\r\n\r\n                if (!shallowClone.allOf) {\r\n                    shallowClone.allOf = [];\r\n                } else {\r\n                    // If \"allOf\" already exists, shallow clone the array\r\n                    shallowClone.allOf = shallowClone.allOf.slice();\r\n                }\r\n\r\n                shallowClone.allOf.push(requiresAnyOf);\r\n\r\n                augmentedSchema = shallowClone;\r\n            } else {\r\n                augmentedSchema = Object.assign({}, option, requiresAnyOf);\r\n            }\r\n\r\n            // Remove the \"required\" field as it's likely that not all fields have\r\n            // been filled in yet, which will mean that the schema is not valid\r\n\r\n            // For edit backfill data scenarios, can directly use required for judgment\r\n            if (!haveAllFields) delete augmentedSchema.required;\r\n\r\n\r\n            if (isValid(augmentedSchema, formData)) {\r\n                return i;\r\n            }\r\n        } else if (isValid(option, formData)) {\r\n            return i;\r\n        }\r\n    }\r\n\r\n    // Try to find const config\r\n    if (options[0] && options[0].properties) {\r\n        const constProperty = Object.keys(options[0].properties).find(k => options[0].properties[k].const);\r\n        if (constProperty) {\r\n            // eslint-disable-next-line no-plusplus\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (\r\n                    options[i].properties\r\n                    && options[i].properties[constProperty]\r\n                    && options[i].properties[constProperty].const === formData[constProperty]) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\n// oneOf anyOf find current matching item index through formData value\r\nexport function getMatchingOption(formData, options, rootSchema, haveAllFields = false) {\r\n    const index = getMatchingIndex(formData, options, rootSchema, haveAllFields);\r\n    return index === -1 ? 0 : index;\r\n}\r\n","/**\r\n * Calculate initial value of formData based on schema\r\n * Source code from: react-jsonschema-form with detail adjustments, rewrote allOf implementation logic\r\n * https://github.com/rjsf-team/react-jsonschema-form/blob/master/packages/core/src/utils.js#L283\r\n */\r\n\r\nimport { getSchemaType, isObject, mergeObjects } from '../utils';\r\nimport findSchemaDefinition from './findSchemaDefinition';\r\nimport { getMatchingOption } from './validate';\r\nimport { fillObj } from '../arrayUtils';\r\nimport { isFixedItems, isMultiSelect } from '../formUtils';\r\nimport retrieveSchema, { /* resolveDependencies, */ resolveAllOf } from './retriev';\r\n\r\n/**\r\n * When merging defaults and form data, we want to merge in this specific way:\r\n * - objects are deeply merged\r\n * - arrays are merged in such a way that:\r\n *   - when the array is set in form data, only array entries set in form data\r\n *     are deeply merged; additional entries from the defaults are ignored\r\n *   - when the array is not set in form data, the default is copied over\r\n * - scalars are overwritten/set by form data\r\n */\r\nfunction mergeDefaultsWithFormData(defaults, formData) {\r\n    if (Array.isArray(formData)) {\r\n        if (!Array.isArray(defaults)) {\r\n            console.warn('Invalid formData, data has been overwritten', formData);\r\n            return defaults;\r\n        }\r\n        return formData.map((value, idx) => {\r\n            if (defaults[idx]) {\r\n                return mergeDefaultsWithFormData(defaults[idx], value);\r\n            }\r\n            return value;\r\n        });\r\n    } if (isObject(formData)) {\r\n        const acc = Object.assign({}, defaults); // Prevent mutation of source object.\r\n        return Object.keys(formData).reduce((preAcc, key) => {\r\n            preAcc[key] = mergeDefaultsWithFormData(\r\n                defaults ? defaults[key] : {},\r\n                formData[key]\r\n            );\r\n            return preAcc;\r\n        }, acc);\r\n    }\r\n    return formData;\r\n}\r\n\r\nfunction computeDefaults(\r\n    _schema,\r\n    parentDefaults,\r\n    rootSchema,\r\n    rawFormData = {},\r\n    includeUndefinedValues = false,\r\n    haveAllFields = false\r\n) {\r\n    let schema = isObject(_schema) ? _schema : {};\r\n    const formData = isObject(rawFormData) ? rawFormData : {};\r\n\r\n    // allOf processing and merging data\r\n    if ('allOf' in schema) {\r\n        schema = resolveAllOf(schema, rootSchema, formData);\r\n    }\r\n\r\n    // Compute the defaults recursively: give highest priority to deepest nodes.\r\n    let defaults = parentDefaults;\r\n    if (isObject(defaults) && isObject(schema.default)) {\r\n        // For object defaults, only override parent defaults that are defined in\r\n        // schema.default.\r\n        defaults = mergeObjects(defaults, schema.default);\r\n    } else if ('default' in schema) {\r\n        // Use schema defaults for this node.\r\n        defaults = schema.default;\r\n    } else if ('$ref' in schema) {\r\n        // Use referenced schema defaults for this node.\r\n        const refSchema = findSchemaDefinition(schema.$ref, rootSchema);\r\n        return computeDefaults(\r\n            refSchema,\r\n            defaults,\r\n            rootSchema,\r\n            formData,\r\n            includeUndefinedValues,\r\n            haveAllFields\r\n        );\r\n    } else if /* ('dependencies' in schema) {\r\n        const resolvedSchema = resolveDependencies(schema, rootSchema, formData);\r\n        return computeDefaults(\r\n            resolvedSchema,\r\n            defaults,\r\n            rootSchema,\r\n            formData,\r\n            includeUndefinedValues,\r\n            haveAllFields\r\n        );\r\n    } else if */ (isFixedItems(schema)) {\r\n        defaults = schema.items.map((itemSchema, idx) => computeDefaults(\r\n            itemSchema,\r\n            Array.isArray(parentDefaults) ? parentDefaults[idx] : undefined,\r\n            rootSchema,\r\n            formData,\r\n            includeUndefinedValues,\r\n            haveAllFields\r\n        ));\r\n    } else if ('oneOf' in schema) {\r\n        const matchSchema = retrieveSchema(\r\n            schema.oneOf[getMatchingOption(formData, schema.oneOf, rootSchema, haveAllFields)],\r\n            rootSchema,\r\n            formData\r\n        );\r\n\r\n        schema = mergeObjects(schema, matchSchema);\r\n        delete schema.oneOf;\r\n\r\n        // if (schema.properties && matchSchema.properties) {\r\n        //     // 对象 oneOf 需要合并原属性和 oneOf 属性\r\n        //     const mergeSchema = mergeObjects(schema, matchSchema);\r\n        //     delete mergeSchema.oneOf;\r\n        //     schema = mergeSchema;\r\n        // } else {\r\n        //     schema = matchSchema;\r\n        // }\r\n    } else if ('anyOf' in schema) {\r\n        const matchSchema = retrieveSchema(\r\n            schema.anyOf[getMatchingOption(formData, schema.anyOf, rootSchema, haveAllFields)],\r\n            rootSchema,\r\n            formData\r\n        );\r\n\r\n        schema = mergeObjects(schema, matchSchema);\r\n        delete schema.anyOf;\r\n\r\n        // if (schema.properties && matchSchema.properties) {\r\n        //     // 对象 anyOf 需要合并原属性和 anyOf 属性\r\n        //     const mergeSchema = mergeObjects(schema, matchSchema);\r\n        //     delete mergeSchema.anyOf;\r\n        //     schema = mergeSchema;\r\n        // } else {\r\n        //     schema = matchSchema;\r\n        // }\r\n    }\r\n    // Not defaults defined for this node, fallback to generic typed ones.\r\n    if (typeof defaults === 'undefined') {\r\n        defaults = schema.default;\r\n    }\r\n    // eslint-disable-next-line default-case\r\n    switch (getSchemaType(schema)) {\r\n    case 'null':\r\n        return null;\r\n\r\n    // We need to recur for object schema inner default values.\r\n    case 'object':\r\n        return Object.keys(schema.properties || {}).reduce((acc, key) => {\r\n            // Compute the defaults for this node, with the parent defaults we might\r\n            // have from a previous run: defaults[key].\r\n            const computedDefault = computeDefaults(\r\n                schema.properties[key],\r\n                (defaults || {})[key],\r\n                rootSchema,\r\n                (formData || {})[key],\r\n                includeUndefinedValues,\r\n                haveAllFields\r\n            );\r\n            if (includeUndefinedValues || computedDefault !== undefined) {\r\n                acc[key] = computedDefault;\r\n            }\r\n            return acc;\r\n        }, {});\r\n\r\n    case 'array':\r\n        // Inject defaults into existing array defaults\r\n        if (Array.isArray(defaults)) {\r\n            defaults = defaults.map((item, idx) => computeDefaults(\r\n                schema.items[idx] || schema.additionalItems || {},\r\n                item,\r\n                rootSchema,\r\n                {},\r\n                includeUndefinedValues,\r\n                haveAllFields\r\n            ));\r\n        }\r\n\r\n        // Deeply inject defaults into already existing form data\r\n        if (Array.isArray(rawFormData)) {\r\n            defaults = rawFormData.map((item, idx) => computeDefaults(\r\n                schema.items,\r\n                (defaults || {})[idx],\r\n                rootSchema,\r\n                item,\r\n                {},\r\n                includeUndefinedValues,\r\n                haveAllFields\r\n            ));\r\n        }\r\n        if (schema.minItems) {\r\n            if (!isMultiSelect(schema, rootSchema)) {\r\n                const defaultsLength = defaults ? defaults.length : 0;\r\n                if (schema.minItems > defaultsLength) {\r\n                    const defaultEntries = defaults || [];\r\n                    // populate the array with the defaults\r\n                    const fillerSchema = Array.isArray(schema.items)\r\n                        ? schema.additionalItems\r\n                        : schema.items;\r\n\r\n                    const fillerEntries = fillObj(\r\n                        new Array(schema.minItems - defaultsLength), computeDefaults(\r\n                            fillerSchema, fillerSchema.defaults, rootSchema, {}, includeUndefinedValues, haveAllFields\r\n                        )\r\n                    );\r\n                    return defaultEntries.concat(fillerEntries);\r\n                }\r\n            } else {\r\n                return defaults || [];\r\n            }\r\n        }\r\n\r\n        // undefined defaults to empty array\r\n        defaults = defaults === undefined ? [] : defaults;\r\n    }\r\n    return defaults;\r\n}\r\n\r\n\r\n// Get default form data\r\nexport default function getDefaultFormState(\r\n    _schema,\r\n    formData,\r\n    rootSchema = {},\r\n    includeUndefinedValues = true,\r\n    haveAllFields = false\r\n) {\r\n    if (!isObject(_schema)) {\r\n        throw new Error(`Invalid schema: ${_schema}`);\r\n    }\r\n    const schema = retrieveSchema(_schema, rootSchema, formData);\r\n\r\n    const defaults = computeDefaults(\r\n        schema,\r\n        _schema.default,\r\n        rootSchema,\r\n        formData,\r\n        includeUndefinedValues,\r\n        haveAllFields\r\n    );\r\n\r\n    if (typeof formData === 'undefined') {\r\n        // No form data? Use schema defaults.\r\n        return defaults;\r\n    }\r\n\r\n    // When formData is passed in, merge the passed data\r\n    if (isObject(formData) || Array.isArray(formData)) {\r\n        return mergeDefaultsWithFormData(defaults, formData);\r\n    }\r\n    if (formData === 0 || formData === false || formData === '') {\r\n        return formData;\r\n    }\r\n    return formData || defaults;\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\r\n * Created by Liu.Jun on 2020/4/16 10:47 PM.\r\n */\r\n\r\nexport default {\r\n    formFooter: {\r\n        type: Object,\r\n        default: () => ({\r\n            show: true,\r\n            okBtn: 'Save',\r\n            cancelBtn: 'Cancel',\r\n        }),\r\n    },\r\n    modelValue: {\r\n        type: null,\r\n        default: () => ({}),\r\n        required: true\r\n    },\r\n    fallbackLabel: {\r\n        type: Boolean,\r\n        default: false,\r\n    },\r\n    strictMode: {\r\n        type: Boolean,\r\n        default: false,\r\n    },\r\n    formProps: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    schema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Reset UI styles\r\n    uiSchema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Custom validation rules\r\n    customFormats: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Custom validation\r\n    customRule: {\r\n        type: Function,\r\n        default: null\r\n    },\r\n    // Reset custom errors\r\n    errorSchema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/12/27 9:53 PM.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\n\r\nexport default {\r\n    name: 'FormFooter',\r\n    props: {\r\n        okBtn: {\r\n            type: String,\r\n            default: 'OK'\r\n        },\r\n        okBtnProps: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        cancelBtn: {\r\n            type: String,\r\n            default: 'Cancel'\r\n        },\r\n        formItemAttrs: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        globalOptions: {\r\n            type: Object,\r\n            default: () => ({})\r\n        }\r\n    },\r\n    emits: ['cancel', 'submit'],\r\n    setup(props, { emit }) {\r\n        // globalOptions does not need to be reactive\r\n        const { globalOptions: { COMPONENT_MAP } } = props;\r\n\r\n        return () => h(resolveComponent(COMPONENT_MAP.formItem), {\r\n            class: {\r\n                formFooter_item: true\r\n            },\r\n            ...props.formItemAttrs\r\n        }, {\r\n            default: () => [\r\n                h(resolveComponent(COMPONENT_MAP.button), {\r\n                    onClick() {\r\n                        emit('cancel');\r\n                    }\r\n                }, {\r\n                    default: () => props.cancelBtn\r\n                }),\r\n                h(resolveComponent(COMPONENT_MAP.button), {\r\n                    style: {\r\n                        marginLeft: '10px'\r\n                    },\r\n                    type: 'primary',\r\n                    onClick() {\r\n                        emit('submit');\r\n                    },\r\n                    ...props.okBtnProps\r\n                }, {\r\n                    default: () => props.okBtn\r\n                })\r\n            ]\r\n        });\r\n    }\r\n};\r\n","<template>\r\n    <div class=\"fieldGroupWrap\">\r\n        <h3\r\n            v-if=\"showTitle && trueTitle\"\r\n            class=\"fieldGroupWrap_title\"\r\n        >\r\n            {{ trueTitle }}\r\n        </h3>\r\n        <p\r\n            v-if=\"showDescription && description\"\r\n            class=\"fieldGroupWrap_des\"\r\n            v-html=\"description\"\r\n        >\r\n        </p>\r\n        <div class=\"fieldGroupWrap_box\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'FieldGroupWrap',\r\n    inject: ['genFormProvide'],\r\n    props: {\r\n        // Current node path\r\n        curNodePath: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        showTitle: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        showDescription: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        description: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    computed: {\r\n        trueTitle() {\r\n            const title = this.title;\r\n            if (title) {\r\n                return title;\r\n            }\r\n\r\n            let fallbackLabel;\r\n            if (typeof this.genFormProvide.fallbackLabel?.value === 'boolean') {\r\n                fallbackLabel = this.genFormProvide.fallbackLabel?.value;\r\n            } else {\r\n                fallbackLabel = this.genFormProvide.fallbackLabel;\r\n            }\r\n            const backTitle = fallbackLabel && this.curNodePath.split('.').pop();\r\n            if (backTitle !== `${Number(backTitle)}`) return backTitle;\r\n\r\n            return '';\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <div class=\"fieldGroupWrap\">\r\n        <h3\r\n            v-if=\"showTitle && trueTitle\"\r\n            class=\"fieldGroupWrap_title\"\r\n        >\r\n            {{ trueTitle }}\r\n        </h3>\r\n        <p\r\n            v-if=\"showDescription && description\"\r\n            class=\"fieldGroupWrap_des\"\r\n            v-html=\"description\"\r\n        >\r\n        </p>\r\n        <div class=\"fieldGroupWrap_box\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'FieldGroupWrap',\r\n    inject: ['genFormProvide'],\r\n    props: {\r\n        // Current node path\r\n        curNodePath: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        showTitle: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        showDescription: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        description: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    computed: {\r\n        trueTitle() {\r\n            const title = this.title;\r\n            if (title) {\r\n                return title;\r\n            }\r\n\r\n            let fallbackLabel;\r\n            if (typeof this.genFormProvide.fallbackLabel?.value === 'boolean') {\r\n                fallbackLabel = this.genFormProvide.fallbackLabel?.value;\r\n            } else {\r\n                fallbackLabel = this.genFormProvide.fallbackLabel;\r\n            }\r\n            const backTitle = fallbackLabel && this.curNodePath.split('.').pop();\r\n            if (backTitle !== `${Number(backTitle)}`) return backTitle;\r\n\r\n            return '';\r\n        }\r\n    }\r\n};\r\n</script>\r\n","/**\r\n * Created by Liu.Jun on 2020/4/22 18:58.\r\n */\r\n\r\n// Recursive parameters, unified props\r\nexport default {\r\n    formProps: {\r\n        type: null\r\n    },\r\n    // Global configuration for initialization differences, adapting to different UI frameworks\r\n    globalOptions: {\r\n        type: null\r\n    },\r\n    // Current node schema\r\n    schema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Current node UI Schema\r\n    uiSchema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Current node Error Schema\r\n    errorSchema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Custom validation\r\n    customRule: {\r\n        type: Function,\r\n        default: null\r\n    },\r\n    // Custom validation rules\r\n    customFormats: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Root node Schema\r\n    rootSchema: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n    // Root node data\r\n    rootFormData: {\r\n        type: null,\r\n        default: () => ({})\r\n    },\r\n    // Current node path\r\n    curNodePath: {\r\n        type: String,\r\n        default: ''\r\n    },\r\n    // Whether required\r\n    required: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    // Whether validation data group is needed\r\n    // object array type will append a validation component at the end to validate overall data by default\r\n    needValidFieldGroup: {\r\n        type: Boolean,\r\n        default: true\r\n    }\r\n};\r\n","<template>\r\n    <svg\r\n        class=\"genFormIcon genFormIcon-down\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1024 1024\"\r\n    >\r\n        <path d=\"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" />\r\n    </svg>\r\n</template>\r\n","<template>\r\n    <svg\r\n        class=\"genFormIcon genFormIcon-up\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1024 1024\"\r\n    >\r\n        <path\r\n            d=\"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z\"\r\n        />\r\n    </svg>\r\n</template>\r\n","<template>\r\n    <svg\r\n        class=\"genFormIcon genFormIcon-close\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1024 1024\"\r\n    >\r\n        <path\r\n            d=\"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1\r\n            191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0\r\n            0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z\"\r\n        />\r\n    </svg>\r\n</template>\r\n","<template>\r\n    <svg\r\n        class=\"genFormIcon genFormIcon-plus\"\r\n        t=\"1551322312294\"\r\n        viewBox=\"0 0 1024 1024\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        p-id=\"10297\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        width=\"200\"\r\n        height=\"200\"\r\n    >\r\n        <path\r\n            d=\"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z\"\r\n            p-id=\"10298\"\r\n        />\r\n        <path\r\n            d=\"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z\"\r\n            p-id=\"10299\"\r\n        />\r\n    </svg>\r\n</template>\r\n","<template>\r\n    <svg\r\n        class=\"genFormIcon genFormIcon-qs\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1024 1024\"\r\n    >\r\n        <path\r\n            d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1\r\n            0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 0\r\n            0-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8\r\n            52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6\r\n            8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6\r\n            40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z\"\r\n        />\r\n    </svg>\r\n</template>\r\n","/**\r\n * Created by Liu.Jun on 2020/4/23 11:24.\r\n */\r\n\r\nimport {\r\n    computed, h, ref, watch, inject\r\n} from 'vue';\r\n\r\nimport { IconQuestion } from '@lljj/vjsf-utils/icons';\r\n\r\nimport { validateFormDataAndTransformMsg } from '@lljj/vjsf-utils/schema/validate';\r\nimport { fallbackLabel } from '@lljj/vjsf-utils/formUtils';\r\n\r\nimport {\r\n    isRootNodePath, path2prop, getPathVal, setPathVal, resolveComponent\r\n} from '@lljj/vjsf-utils/vue3Utils';\r\n\r\nexport default {\r\n    name: 'Widget',\r\n    props: {\r\n        // Whether to sync formData value, form elements need this by default\r\n        // Select in oneOf anyOf belongs to data outside of formData\r\n        isFormData: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        // When isFormData = false, current value needs to be passed in, otherwise it will be automatically calculated through curNodePath\r\n        curValue: {\r\n            type: null,\r\n            default: 0\r\n        },\r\n        schema: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        uiSchema: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        errorSchema: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        customFormats: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Custom validation\r\n        customRule: {\r\n            type: Function,\r\n            default: null\r\n        },\r\n        widget: {\r\n            type: [String, Function, Object],\r\n            default: null\r\n        },\r\n\r\n        // Calculated from the defined schema\r\n        required: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        // Props passed through UI schema configuration\r\n        uiRequired: {\r\n            type: Boolean\r\n        },\r\n        // Resolve difference in required judgment for empty string between JSON Schema and actual input elements\r\n        // When element input is '' use the value of emptyValue\r\n        emptyValue: {\r\n            type: null,\r\n            default: undefined\r\n        },\r\n        rootFormData: {\r\n            type: null\r\n        },\r\n        curNodePath: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        label: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        // width -> formItem width\r\n        width: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        labelWidth: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        description: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        // Widget attrs\r\n        widgetAttrs: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Widget className\r\n        widgetClass: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Widget style\r\n        widgetStyle: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Field attrs\r\n        fieldAttrs: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Field className\r\n        fieldClass: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // Field style\r\n        fieldStyle: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        // props\r\n        uiProps: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        formProps: null,\r\n        getWidget: null,\r\n        renderScopedSlots: null, // Scoped slots\r\n        globalOptions: null, // Global configuration\r\n        onChange: null\r\n    },\r\n    emits: ['otherDataChange'],\r\n    inheritAttrs: true,\r\n    setup(props, { emit }) {\r\n        const genFormProvide = inject('genFormProvide');\r\n        const widgetValue = computed({\r\n            get() {\r\n                if (props.isFormData) return getPathVal(props.rootFormData, props.curNodePath);\r\n\r\n                return props.curValue;\r\n            },\r\n            set(value) {\r\n                // Most components will reset to null when empty value is deleted.\r\n                const trueValue = (value === '' || value === null) ? props.emptyValue : value;\r\n                if (props.isFormData) {\r\n                    setPathVal(props.rootFormData, props.curNodePath, trueValue);\r\n                } else {\r\n                    emit('otherDataChange', trueValue);\r\n                }\r\n            }\r\n        });\r\n        const realRequired = computed(() => props.uiRequired ?? props.required);\r\n\r\n        // Enum type default value is first option\r\n        if (props.uiProps.enumOptions\r\n            && props.uiProps.enumOptions.length > 0\r\n            && widgetValue.value === undefined\r\n            && widgetValue.value !== props.uiProps.enumOptions[0]\r\n        ) {\r\n            // array rendered as multi-select defaults to empty array\r\n            if (props.schema.items) {\r\n                widgetValue.value = [];\r\n            } else if (realRequired.value && props.formProps.defaultSelectFirstOption) {\r\n                widgetValue.value = props.uiProps.enumOptions[0].value;\r\n            }\r\n        }\r\n\r\n        // Get widget component instance\r\n        const widgetRef = ref(null);\r\n        // Provide a special config allowing direct access to widget vm\r\n        if (typeof props.getWidget === 'function') {\r\n            watch(widgetRef, () => {\r\n                props.getWidget.call(null, widgetRef.value);\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            // Check if it's root node\r\n            const isRootNode = isRootNodePath(props.curNodePath);\r\n\r\n            const isMiniDes = props.formProps && props.formProps.isMiniDes;\r\n            const miniDesModel = isMiniDes ?? props.globalOptions.HELPERS.isMiniDes(props.formProps);\r\n            const descriptionVNode = (props.description) ? h(\r\n                'div',\r\n                {\r\n                    innerHTML: props.description,\r\n                    class: {\r\n                        genFromWidget_des: true,\r\n                        genFromWidget_des_mini: miniDesModel\r\n                    }\r\n                },\r\n            ) : null;\r\n\r\n            const { COMPONENT_MAP } = props.globalOptions;\r\n            const miniDescriptionVNode = (miniDesModel && descriptionVNode) ? h(resolveComponent(COMPONENT_MAP.popover), {\r\n                style: {\r\n                    margin: '0 2px',\r\n                    fontSize: '16px',\r\n                    cursor: 'pointer'\r\n                },\r\n                placement: 'top',\r\n                trigger: 'hover',\r\n                ...props.formProps?.popover\r\n            }, {\r\n                default: () => descriptionVNode,\r\n                reference: () => h(IconQuestion)\r\n            }) : null;\r\n\r\n            // form-item style\r\n            const formItemStyle = {\r\n                ...props.fieldStyle,\r\n                ...(props.width ? {\r\n                    width: props.width,\r\n                    flexBasis: props.width,\r\n                    paddingRight: '10px'\r\n                } : {})\r\n            };\r\n\r\n            // Runtime config fallback to property name\r\n            const label = fallbackLabel(props.label, (props.widget && genFormProvide.fallbackLabel.value), props.curNodePath);\r\n            return h(\r\n                resolveComponent(COMPONENT_MAP.formItem),\r\n                {\r\n                    class: {\r\n                        ...props.fieldClass,\r\n                        genFormItem: true\r\n                    },\r\n                    style: formItemStyle,\r\n                    ...props.fieldAttrs,\r\n\r\n                    ...props.labelWidth ? { labelWidth: props.labelWidth } : {},\r\n                    ...props.isFormData ? {\r\n                        // Mark root node with special flag to bypass elementUi no prop attribute no validation\r\n                        prop: isRootNode ? '__$$root' : path2prop(props.curNodePath),\r\n                        rules: [\r\n                            {\r\n                                validator(rule, value, callback) {\r\n                                    if (isRootNode) value = props.rootFormData;\r\n\r\n                                    // Validation expands schema level by level, only capture root node errors here\r\n                                    const errors = validateFormDataAndTransformMsg({\r\n                                        formData: value,\r\n                                        schema: props.schema,\r\n                                        uiSchema: props.uiSchema,\r\n                                        customFormats: props.customFormats,\r\n                                        errorSchema: props.errorSchema,\r\n                                        required: realRequired.value,\r\n                                        propPath: path2prop(props.curNodePath)\r\n                                    });\r\n\r\n                                    // Validation failed fields exist\r\n                                    if (errors.length > 0) {\r\n                                        if (callback) return callback(errors[0].message);\r\n                                        return Promise.reject(errors[0].message);\r\n                                    }\r\n\r\n                                    // customRule if custom validation exists\r\n                                    const curCustomRule = props.customRule;\r\n                                    if (curCustomRule && (typeof curCustomRule === 'function')) {\r\n                                        return curCustomRule({\r\n                                            field: props.curNodePath,\r\n                                            value,\r\n                                            rootFormData: props.rootFormData,\r\n                                            callback\r\n                                        });\r\n                                    }\r\n\r\n                                    // Validation success\r\n                                    if (callback) return callback();\r\n                                    return Promise.resolve();\r\n                                },\r\n                                trigger: 'change'\r\n                            }\r\n                        ]\r\n                    } : {},\r\n                },\r\n                {\r\n                    // Error can only display one line, excess...\r\n                    error: slotProps => (slotProps.error ? h('div', {\r\n                        class: {\r\n                            formItemErrorBox: true\r\n                        },\r\n                        title: slotProps.error\r\n                    }, [slotProps.error]) : null),\r\n\r\n                    // label\r\n                    /*\r\n                        TODO: Slot going from nothing to something causes elements not to render properly, suspect Vue3 bug\r\n                        If rendering in error form, ElementPlus label labelWrap has no check, using slots.default?.() will get undefined\r\n                    */\r\n                    ...label ? {\r\n                        label: () => h('span', {\r\n                            class: {\r\n                                genFormLabel: true,\r\n                                genFormItemRequired: realRequired.value,\r\n                            },\r\n                        }, [\r\n                            `${label}`,\r\n                            ...miniDescriptionVNode ? [miniDescriptionVNode] : [],\r\n                            `${(props.formProps && props.formProps.labelSuffix) || ''}`\r\n                        ])\r\n                    } : {},\r\n\r\n                    // default\r\n                    default: otherAttrs => [\r\n                        // description\r\n                        // Display description in non-mini mode\r\n                        ...(!miniDesModel && descriptionVNode) ? [descriptionVNode] : [],\r\n\r\n                        ...props.widget ? [\r\n                            h( // Key input component\r\n                                resolveComponent(props.widget),\r\n                                {\r\n                                    style: props.widgetStyle,\r\n                                    class: props.widgetClass,\r\n                                    // Spread all props from Widget component to the widget\r\n                                    ...(props.widget.props\r\n                                        ? Object.keys(props.widget.props).reduce((acc, propKey) => {\r\n                                            if (props[propKey] !== undefined) {\r\n                                                acc[propKey] = props[propKey];\r\n                                            }\r\n                                            return acc;\r\n                                        }, {})\r\n                                        : { label: props.label }\r\n                                    ),\r\n                                    ...props.widgetAttrs,\r\n                                    ...props.uiProps,\r\n                                    modelValue: widgetValue.value, // v-model\r\n                                    ref: widgetRef,\r\n                                    'onUpdate:modelValue': function updateModelValue(event) {\r\n                                        const preVal = widgetValue.value;\r\n                                        if (preVal !== event) {\r\n                                            widgetValue.value = event;\r\n                                            if (props.onChange) {\r\n                                                props.onChange({\r\n                                                    curVal: event,\r\n                                                    preVal,\r\n                                                    parentFormData: getPathVal(props.rootFormData, props.curNodePath, 1),\r\n                                                    rootFormData: props.rootFormData\r\n                                                });\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    ...otherAttrs ? (() => Object.keys(otherAttrs).reduce((pre, k) => {\r\n                                        pre[k] = otherAttrs[k];\r\n\r\n                                        // Ensure UI config methods with same name execute UI methods first\r\n                                        [\r\n                                            props.widgetAttrs[k],\r\n                                            props.uiProps[k]\r\n                                        ].forEach((uiConfFn) => {\r\n                                            if (uiConfFn && typeof uiConfFn === 'function') {\r\n                                                pre[k] = (...args) => {\r\n                                                    uiConfFn(...args);\r\n                                                    pre[k](...args);\r\n                                                };\r\n                                            }\r\n                                        });\r\n\r\n                                        return pre;\r\n                                    }, {}))() : {}\r\n                                },\r\n                                {\r\n                                    ...(props.renderScopedSlots ? (\r\n                                        typeof props.renderScopedSlots === 'function' ? props.renderScopedSlots() : props.renderScopedSlots\r\n                                    ) : {})\r\n                                }\r\n                            )\r\n                        ] : []\r\n                    ]\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/21 9:24.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport { orderProperties, getUiOptions } from '@lljj/vjsf-utils/formUtils';\r\nimport { computedCurPath, getPathVal } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { isObject } from '@lljj/vjsf-utils/utils';\r\nimport FieldGroupWrap from '@lljj/vjsf-utils/components/FieldGroupWrap.vue';\r\nimport vueProps from '../props';\r\nimport Widget from '../../components/Widget';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport SchemaField from '../SchemaField';\r\n\r\nexport default {\r\n    name: 'ObjectField',\r\n    props: vueProps,\r\n    setup(props) {\r\n        // required\r\n        const isRequired = name => Array.isArray(props.schema.required) && !!~props.schema.required.indexOf(name);\r\n\r\n        // Dependencies configuration exists, need to check if current property has dependency\r\n        // relationship and if current property is being depended on\r\n        // tip: Determining dependency relationship requires using formData values for judgment,\r\n        // so when user inputs, it will trigger re-rendering of the entire object tree\r\n        // TODO: Each property needs to traverse dependencies separately, which can be optimized\r\n        // a bit (can be calculated by reversing key-value and adding cache)\r\n        const isDependOn = (name) => {\r\n            let isDependency = false; // Whether it is a dependency item\r\n            let curDependent = false; // Whether dependency is currently triggered\r\n\r\n            if (isObject(props.schema.dependencies)) {\r\n                curDependent = Object.entries(props.schema.dependencies).some(([key, value]) => {\r\n\r\n                    // Whether there is a dependency relationship with the current property\r\n                    const tempDependency = !!(Array.isArray(value) && ~value.indexOf(name));\r\n\r\n                    // Whether it is a dependency item\r\n                    isDependency = isDependency || tempDependency;\r\n\r\n                    // Current needs to depend\r\n                    return tempDependency && getPathVal(props.rootFormData, props.curNodePath)[key] !== undefined;\r\n                });\r\n            }\r\n\r\n            return {\r\n                isDependency,\r\n                curDependent\r\n            };\r\n        };\r\n\r\n        return () => {\r\n            const curNodePath = props.curNodePath;\r\n            const {\r\n                title, description, showTitle, showDescription, order, fieldClass, fieldAttrs, fieldStyle, onlyShowIfDependent\r\n            } = getUiOptions({\r\n                schema: props.schema,\r\n                uiSchema: props.uiSchema,\r\n                curNodePath,\r\n                rootFormData: props.rootFormData\r\n            });\r\n\r\n            const properties = Object.keys(props.schema.properties || {});\r\n            const orderedProperties = orderProperties(properties, order);\r\n\r\n            // Recursive parameters\r\n            const propertiesVNodeList = orderedProperties.map((name) => {\r\n                const required = isRequired(name);\r\n                const { isDependency, curDependent } = isDependOn(name);\r\n\r\n                // onlyShowWhenDependent only renders dependent properties\r\n                return (isDependency && onlyShowIfDependent && !curDependent) ? null : h(\r\n                    SchemaField,\r\n                    {\r\n                        key: name,\r\n                        ...props,\r\n                        schema: props.schema.properties[name],\r\n                        uiSchema: props.uiSchema[name],\r\n                        errorSchema: props.errorSchema[name],\r\n                        required: required || curDependent,\r\n                        curNodePath: computedCurPath(curNodePath, name)\r\n                    }\r\n                );\r\n            });\r\n\r\n            return h(\r\n                FieldGroupWrap,\r\n                {\r\n                    title,\r\n                    description,\r\n                    showTitle,\r\n                    showDescription,\r\n                    curNodePath,\r\n                    class: { ...fieldClass },\r\n                    style: fieldStyle,\r\n                    ...fieldAttrs\r\n                },\r\n                {\r\n                    default: () => [\r\n                        ...propertiesVNodeList,\r\n\r\n                        // Insert a Widget to validate object group - minProperties, maxProperties, oneOf, etc. that require outer layer validation\r\n                        ...props.needValidFieldGroup ? [\r\n                            h(Widget, {\r\n                                key: 'validateWidget-object',\r\n                                class: {\r\n                                    validateWidget: true,\r\n                                    'validateWidget-object': true\r\n                                },\r\n                                schema: Object.entries(props.schema).reduce((preVal, [key, value]) => {\r\n                                    if (\r\n                                        props.schema.additionalProperties === false\r\n                                        || !['properties', 'id', '$id'].includes(key)\r\n                                    ) preVal[key] = value;\r\n                                    return preVal;\r\n                                }, {}),\r\n                                uiSchema: props.uiSchema,\r\n                                errorSchema: props.errorSchema,\r\n                                curNodePath,\r\n                                rootFormData: props.rootFormData,\r\n                                globalOptions: props.globalOptions\r\n                            })\r\n                        ] : []\r\n                    ]\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/21 9:24.\r\n */\r\n\r\nimport { h, computed } from 'vue';\r\n\r\nimport { getWidgetConfig, isSelect, optionsList } from '@lljj/vjsf-utils/formUtils';\r\nimport vueProps from '../props';\r\nimport Widget from '../../components/Widget';\r\n\r\nexport default {\r\n    name: 'StringField',\r\n    props: vueProps,\r\n    setup(props, { attrs }) {\r\n        const widgetConfig = computed(() => {\r\n            // May be enum data using select component, otherwise use input\r\n            const enumOptions = isSelect(props.schema)\r\n                                && optionsList(props.schema, props.uiSchema, props.curNodePath, props.rootFormData);\r\n\r\n            const tempWidgetConfig = getWidgetConfig({\r\n                schema: props.schema,\r\n                uiSchema: props.uiSchema,\r\n                curNodePath: props.curNodePath,\r\n                rootFormData: props.rootFormData,\r\n            }, () => {\r\n                const isNumber = props.schema.type === 'number' || props.schema.type === 'integer';\r\n\r\n                return {\r\n                    widget: enumOptions\r\n                        ? props.globalOptions.WIDGET_MAP.common.select\r\n                        : (\r\n                            props.globalOptions.WIDGET_MAP.formats[props.schema.format]\r\n                            || (isNumber ? props.globalOptions.WIDGET_MAP.types.number : props.globalOptions.WIDGET_MAP.types.string)\r\n                        )\r\n                };\r\n            });\r\n\r\n            // If enumeration data list exists, pass in enumOptions\r\n            if (enumOptions && !tempWidgetConfig.uiProps.enumOptions) {\r\n                tempWidgetConfig.uiProps.enumOptions = enumOptions;\r\n            }\r\n\r\n            return tempWidgetConfig;\r\n        });\r\n\r\n        return () => h(\r\n            Widget,\r\n            {\r\n                ...props,\r\n                ...attrs,\r\n                ...widgetConfig.value\r\n            }\r\n        );\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/21 9:24.\r\n * NumberField reuses StringField\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport vueProps from '../props';\r\nimport StringField from '../StringField';\r\n\r\nexport default {\r\n    name: 'NumberField',\r\n    props: vueProps,\r\n    setup(props, { attrs }) {\r\n        return () => h(StringField, {\r\n            ...props,\r\n            ...attrs\r\n        });\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/21 9:24.\r\n * IntegerField reuses StringField\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport vueProps from '../props';\r\nimport StringField from '../StringField';\r\n\r\nexport default {\r\n    name: 'IntegerField',\r\n    props: vueProps,\r\n    setup(props, { attrs }) {\r\n        return () => h(StringField, {\r\n            ...props,\r\n            ...attrs\r\n        });\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/23 10:50.\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport { getWidgetConfig, optionsList } from '@lljj/vjsf-utils/formUtils';\r\n\r\nimport Widget from '../../components/Widget';\r\nimport vueProps from '../props';\r\n\r\nexport default {\r\n    name: 'BooleanField',\r\n    props: vueProps,\r\n    setup(props, { attrs }) {\r\n        return () => {\r\n            const {\r\n                schema, uiSchema, curNodePath, rootFormData, globalOptions\r\n            } = props;\r\n\r\n            // Bool will pass in enum type options true false by default\r\n            const enumOptions = optionsList({\r\n                enumNames: schema.enumNames || ['true', 'false'],\r\n                enum: schema.enum || [true, false]\r\n            }, uiSchema, curNodePath, rootFormData);\r\n\r\n            const widgetConfig = getWidgetConfig({\r\n                schema,\r\n                uiSchema,\r\n                curNodePath,\r\n                rootFormData\r\n            }, () => ({\r\n                widget: globalOptions.WIDGET_MAP.types.boolean\r\n            }));\r\n\r\n            widgetConfig.uiProps.enumOptions = widgetConfig.uiProps.enumOptions || enumOptions;\r\n\r\n            return h(\r\n                Widget,\r\n                {\r\n                    ...attrs,\r\n                    ...props,\r\n                    ...widgetConfig\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/24 16:47.\r\n */\r\n\r\nimport {\r\n    IconCaretUp, IconCaretDown, IconClose, IconPlus\r\n} from '@lljj/vjsf-utils/icons';\r\nimport { h, computed } from 'vue';\r\n\r\n// Supports number sorting, add, delete and other operations\r\nexport default {\r\n    name: 'ArrayOrderList',\r\n    emits: ['arrayOperate'],\r\n    props: {\r\n        // VNode list to be sorted\r\n        vNodeList: {\r\n            type: Array,\r\n            default: []\r\n        },\r\n        // Tuple type array, need to fix prefix values\r\n        tupleItemsLength: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        addable: {\r\n            // Whether to enable add\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        showIndexNumber: {\r\n            // Whether to show current index number\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        sortable: {\r\n            // Whether sortable\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        removable: {\r\n            // Whether removable\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        maxItems: {\r\n            // Maximum number to add\r\n        },\r\n        minItems: {\r\n            // Minimum number to add\r\n        },\r\n        globalOptions: null\r\n    },\r\n    setup(props, { emit }) {\r\n        // Whether can add\r\n        const canAdd = computed(() => {\r\n            const { addable, maxItems, vNodeList } = props;\r\n            // Configured as not addable\r\n            if (!addable) return false;\r\n\r\n            // Configured with maximum number\r\n            if (maxItems !== undefined) {\r\n                return vNodeList.length < maxItems;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        // Whether can remove\r\n        const canRemove = computed(() => {\r\n            const { removable, minItems, vNodeList } = props;\r\n            // Configured as not removable\r\n            if (!removable) return false;\r\n\r\n            if (minItems !== undefined) {\r\n                return vNodeList.length > minItems;\r\n            }\r\n\r\n            return true;\r\n        });\r\n\r\n        return () => {\r\n            // No data and cannot add, don't render this component\r\n            if (props.vNodeList.length <= 0 && !props.addable) return null;\r\n\r\n            // Whether can continue adding elements\r\n            return h(\r\n                'div',\r\n                {\r\n                    class: {\r\n                        arrayOrderList: true\r\n                    }\r\n                },\r\n                props.vNodeList.map(({ key, vNode: VNodeItem }, index) => {\r\n                    const trueIndex = props.tupleItemsLength + index;\r\n                    const indexNumber = index + 1;\r\n                    return h(\r\n                        'div',\r\n                        {\r\n                            key,\r\n                            class: {\r\n                                arrayOrderList_item: true\r\n                            }\r\n                        },\r\n                        [\r\n                            props.showIndexNumber ? h('div', {\r\n                                class: {\r\n                                    arrayListItem_index: true\r\n                                }\r\n                            }, indexNumber) : null,\r\n                            h(\r\n                                'div',\r\n                                {\r\n                                    class: {\r\n                                        arrayListItem_operateTool: true\r\n                                    }\r\n                                },\r\n                                [\r\n                                    h(\r\n                                        'button',\r\n                                        {\r\n                                            // Don't show sort button when configured as not sortable\r\n                                            style: {\r\n                                                ...(!props.sortable ? {\r\n                                                    display: 'none'\r\n                                                } : {})\r\n                                            },\r\n                                            class: {\r\n                                                arrayListItem_btn: true,\r\n                                                'arrayListItem_orderBtn-top': true\r\n                                            },\r\n                                            type: 'button',\r\n                                            disabled: !props.sortable || index === 0,\r\n                                            onClick: () => {\r\n                                                emit('arrayOperate', {\r\n                                                    command: 'moveUp',\r\n                                                    data: {\r\n                                                        index: trueIndex\r\n                                                    }\r\n                                                });\r\n                                            }\r\n                                        },\r\n                                        [h(IconCaretUp)]\r\n                                    ),\r\n                                    h(\r\n                                        'button',\r\n                                        {\r\n                                            // Don't show sort button when configured as not sortable\r\n                                            style: {\r\n                                                ...(!props.sortable ? {\r\n                                                    display: 'none'\r\n                                                } : {})\r\n                                            },\r\n                                            class: {\r\n                                                arrayListItem_btn: true,\r\n                                                'arrayListItem_orderBtn-bottom': true\r\n                                            },\r\n\r\n                                            type: 'button',\r\n                                            disabled: !props.sortable || index === props.vNodeList.length - 1,\r\n                                            onClick: () => {\r\n                                                emit('arrayOperate', {\r\n                                                    command: 'moveDown',\r\n                                                    data: {\r\n                                                        index: trueIndex\r\n                                                    }\r\n                                                });\r\n                                            }\r\n                                        },\r\n                                        [h(IconCaretDown)]\r\n                                    ),\r\n                                    h(\r\n                                        'button',\r\n                                        {\r\n                                            // Don't show remove button when configured as not removable\r\n                                            style: {\r\n                                                ...(!props.removable ? {\r\n                                                    display: 'none'\r\n                                                } : {})\r\n                                            },\r\n                                            class: {\r\n                                                arrayListItem_btn: true,\r\n                                                'arrayListItem_btn-delete': true\r\n                                            },\r\n                                            type: 'button',\r\n                                            disabled: !canRemove.value,\r\n                                            onClick: () => {\r\n                                                emit('arrayOperate', {\r\n                                                    command: 'remove',\r\n                                                    data: {\r\n                                                        index: trueIndex\r\n                                                    }\r\n                                                });\r\n                                            }\r\n                                        },\r\n                                        [h(IconClose)]\r\n                                    )\r\n                                ]\r\n                            ),\r\n                            h(\r\n                                'div',\r\n                                {\r\n                                    class: {\r\n                                        arrayListItem_content: true\r\n                                    }\r\n                                },\r\n                                [VNodeItem]\r\n                            )\r\n                        ]\r\n                    );\r\n                }).concat([\r\n                    h(\r\n                        'p',\r\n                        {\r\n                            style: {\r\n                                ...(!canAdd.value ? {\r\n                                    display: 'none'\r\n                                } : {})\r\n                            },\r\n                            class: {\r\n                                arrayOrderList_bottomAddBtn: true,\r\n                            }\r\n                        },\r\n                        [\r\n                            h(\r\n                                'button',\r\n                                {\r\n                                    class: {\r\n                                        bottomAddBtn: true,\r\n                                        'is-plain': true,\r\n                                        genFormBtn: true\r\n                                    },\r\n                                    type: 'button',\r\n                                    onClick: () => {\r\n                                        emit('arrayOperate', {\r\n                                            command: 'add'\r\n                                        });\r\n                                    }\r\n                                },\r\n                                [\r\n                                    h(IconPlus, {\r\n                                        style: { marginRight: '5px' }\r\n                                    }),\r\n                                    props.maxItems ? `( ${props.vNodeList.length} / ${props.maxItems} )` : ''\r\n                                ]\r\n                            ),\r\n                        ]\r\n                    ),\r\n                ])\r\n            );\r\n        };\r\n\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/24 11:56.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport { computedCurPath } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { getUiOptions, replaceArrayIndex } from '@lljj/vjsf-utils/formUtils';\r\n\r\nimport FieldGroupWrap from '@lljj/vjsf-utils/components/FieldGroupWrap.vue';\r\nimport SchemaField from '../../SchemaField';\r\nimport ArrayOrderList from '../components/ArrayOrderList';\r\n\r\nimport vueProps from '../../props';\r\n\r\nexport default {\r\n    name: 'ArrayFieldNormal',\r\n    props: {\r\n        ...vueProps,\r\n        itemsFormData: {\r\n            type: Array,\r\n        }\r\n    },\r\n    setup(props, { attrs }) {\r\n        return () => {\r\n            const {\r\n                schema, uiSchema, curNodePath, rootFormData, itemsFormData, errorSchema, globalOptions\r\n            } = props;\r\n\r\n            const {\r\n                title,\r\n                description,\r\n                addable,\r\n                showIndexNumber,\r\n                sortable,\r\n                removable,\r\n                showTitle,\r\n                showDescription,\r\n                fieldClass,\r\n                fieldAttrs,\r\n                fieldStyle,\r\n            } = getUiOptions({\r\n                schema,\r\n                uiSchema,\r\n                curNodePath,\r\n                rootFormData,\r\n            });\r\n\r\n            const arrayItemsVNodeList = itemsFormData.map((item, index) => {\r\n                const tempUiSchema = replaceArrayIndex({\r\n                    schema: schema.items,\r\n                    uiSchema: uiSchema.items\r\n                }, index);\r\n\r\n                return {\r\n                    key: item.key,\r\n                    vNode: h(\r\n                        SchemaField,\r\n                        {\r\n                            key: item.key,\r\n                            ...props,\r\n                            schema: schema.items,\r\n                            required: !([].concat(schema.items.type).includes('null')),\r\n                            uiSchema: {\r\n                                ...uiSchema.items,\r\n                                ...tempUiSchema, // Processed $index identifier\r\n                            },\r\n                            errorSchema: errorSchema.items,\r\n                            curNodePath: computedCurPath(curNodePath, index)\r\n                        }\r\n                    )\r\n                };\r\n            });\r\n\r\n            return h(\r\n                FieldGroupWrap,\r\n                {\r\n                    title,\r\n                    description,\r\n                    showTitle,\r\n                    showDescription,\r\n                    curNodePath,\r\n                    class: fieldClass,\r\n                    attrs: fieldAttrs,\r\n                    style: fieldStyle,\r\n                },\r\n                {\r\n                    default() {\r\n                        return h(\r\n                            ArrayOrderList,\r\n                            {\r\n                                ...attrs,\r\n                                vNodeList: arrayItemsVNodeList,\r\n                                showIndexNumber,\r\n                                addable,\r\n                                sortable,\r\n                                removable,\r\n                                maxItems: schema.maxItems,\r\n                                minItems: schema.minItems,\r\n                                globalOptions\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/24 11:56.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport {\r\n    getWidgetConfig, optionsList\r\n} from '@lljj/vjsf-utils/formUtils';\r\nimport retrieveSchema from '@lljj/vjsf-utils/schema/retriev';\r\nimport vueProps from '../../props';\r\n\r\nimport Widget from '../../../components/Widget';\r\n\r\nexport default {\r\n    name: 'ArrayFieldMultiSelect',\r\n    props: {\r\n        ...vueProps\r\n    },\r\n    setup(props, { attrs }) {\r\n        return () => {\r\n            const {\r\n                schema, rootSchema, uiSchema, curNodePath, rootFormData, globalOptions\r\n            } = props;\r\n\r\n            // Need to index the current node, which will be handled uniformly by the schemaField component\r\n            const itemsSchema = retrieveSchema(schema.items, rootSchema);\r\n\r\n            const enumOptions = optionsList(itemsSchema, uiSchema, curNodePath, rootFormData);\r\n\r\n            const widgetConfig = getWidgetConfig({\r\n                schema,\r\n                uiSchema,\r\n                curNodePath,\r\n                rootFormData\r\n            }, () => ({\r\n                widget: globalOptions.WIDGET_MAP.common.checkboxGroup\r\n            }));\r\n\r\n            // If enumeration data list exists, pass in enumOptions\r\n            widgetConfig.uiProps.multiple = true;\r\n\r\n            if (enumOptions && !widgetConfig.uiProps.enumOptions) {\r\n                widgetConfig.uiProps.enumOptions = enumOptions;\r\n            }\r\n\r\n            return h(\r\n                Widget,\r\n                {\r\n                    ...attrs,\r\n                    ...props,\r\n                    ...widgetConfig\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/24 11:56.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport { allowAdditionalItems, getUiOptions, replaceArrayIndex } from '@lljj/vjsf-utils/formUtils';\r\nimport getDefaultFormState from '@lljj/vjsf-utils/schema/getDefaultFormState';\r\nimport { computedCurPath } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { cutOff } from '@lljj/vjsf-utils/arrayUtils';\r\nimport FieldGroupWrap from '@lljj/vjsf-utils/components/FieldGroupWrap.vue';\r\nimport vueProps from '../../props';\r\n\r\nimport SchemaField from '../../SchemaField';\r\nimport ArrayOrderList from '../components/ArrayOrderList';\r\n\r\nexport default {\r\n    name: 'ArrayFieldTuple',\r\n    props: {\r\n        ...vueProps,\r\n        itemsFormData: {\r\n            type: Array,\r\n            default: () => []\r\n        }\r\n    },\r\n    emits: ['arrayOperate'],\r\n    setup(props, { emit, attrs }) {\r\n        // Compatibility for data with insufficient length\r\n        const fixItemsFormData = () => {\r\n            const isNoArray = !Array.isArray(props.itemsFormData);\r\n            if (isNoArray || props.itemsFormData.length < props.schema.items.length) {\r\n                // Need to fill in default data, calculate required data\r\n                const curSchemaState = getDefaultFormState(props.schema, undefined, props.rootSchema);\r\n\r\n                if (isNoArray) {\r\n                    // Data repair - reset to a new value\r\n                    emit('arrayOperate', {\r\n                        command: 'setNewTarget',\r\n                        data: {\r\n                            newTarget: curSchemaState\r\n                        }\r\n                    });\r\n                } else {\r\n                    // Data repair - append insufficient data\r\n                    emit('arrayOperate', {\r\n                        command: 'batchPush',\r\n                        data: {\r\n                            pushArray: curSchemaState.slice(props.itemsFormData.length)\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        fixItemsFormData();\r\n\r\n        return () => {\r\n            if (!Array.isArray(props.itemsFormData)) return null;\r\n\r\n            const {\r\n                schema, uiSchema, errorSchema, curNodePath, globalOptions\r\n            } = props;\r\n\r\n            const {\r\n                title,\r\n                description,\r\n                addable,\r\n                showIndexNumber,\r\n                sortable,\r\n                removable,\r\n                showTitle,\r\n                showDescription,\r\n                fieldClass,\r\n                fieldAttrs,\r\n                fieldStyle,\r\n            } = getUiOptions({\r\n                schema,\r\n                uiSchema,\r\n                curNodePath,\r\n                rootFormData: props.rootFormData,\r\n            });\r\n\r\n            // Split into tuple and additional\r\n            const cutOfArr = cutOff(props.itemsFormData, props.schema.items.length - 1);\r\n\r\n            const tupleVNodeArr = cutOfArr[0].map((item, index) => h(\r\n                SchemaField,\r\n                {\r\n                    key: item.key,\r\n                    ...props,\r\n                    required: !([].concat(schema.items[index].type).includes('null')),\r\n                    schema: schema.items[index],\r\n                    uiSchema: uiSchema.items ? uiSchema.items[index] : {},\r\n                    errorSchema: errorSchema.items ? errorSchema.items[index] : {},\r\n                    curNodePath: computedCurPath(curNodePath, index)\r\n                }\r\n            ));\r\n\r\n            // Sortable handling through order component\r\n            const additionalVNodeArr = cutOfArr[1].map((item, index) => {\r\n                const tempUiSchema = replaceArrayIndex({\r\n                    schema: schema.additionalItems,\r\n                    uiSchema: uiSchema.additionalItems\r\n                }, index);\r\n\r\n                return {\r\n                    key: item.key,\r\n                    vNode: h(\r\n                        SchemaField,\r\n                        {\r\n                            key: item.key,\r\n                            ...props,\r\n                            schema: schema.additionalItems,\r\n                            required: !([].concat(schema.additionalItems.type).includes('null')),\r\n                            uiSchema: {\r\n                                ...uiSchema.additionalItems,\r\n                                ...tempUiSchema\r\n                            },\r\n                            errorSchema: errorSchema.additionalItems,\r\n                            curNodePath: computedCurPath(props.curNodePath, index + schema.items.length)\r\n                        }\r\n                    )\r\n                };\r\n            });\r\n\r\n            // Whether addable is also restricted by additionalItems property\r\n            const trueAddable = (addable === undefined ? true : addable) && allowAdditionalItems(props.schema);\r\n\r\n            // Default loop of fixed configured data, use ArrayOrderList to render beyond length\r\n            return h(\r\n                FieldGroupWrap,\r\n                {\r\n                    title,\r\n                    description,\r\n                    showTitle,\r\n                    showDescription,\r\n                    curNodePath,\r\n                    ...fieldAttrs,\r\n                    class: fieldClass,\r\n                    style: fieldStyle,\r\n                },\r\n                {\r\n                    default: () => [\r\n                        // Display tuple fixed items first\r\n                        ...tupleVNodeArr,\r\n\r\n                        // additional items\r\n                        h(\r\n                            ArrayOrderList,\r\n                            {\r\n                                onArrayOperate: (...args) => emit('arrayOperate', ...args),\r\n                                vNodeList: additionalVNodeArr,\r\n                                tupleItemsLength: schema.items.length,\r\n                                addable: trueAddable,\r\n                                showIndexNumber,\r\n                                sortable,\r\n                                removable,\r\n                                maxItems: schema.maxItems,\r\n                                minItems: schema.minItems,\r\n                                globalOptions,\r\n                            }\r\n                        )\r\n                    ]\r\n                }\r\n            );\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/9/16 10:25.\r\n */\r\n\r\nimport { h, computed } from 'vue';\r\nimport { getWidgetConfig } from '@lljj/vjsf-utils/formUtils';\r\nimport vueProps from '../../props';\r\nimport Widget from '../../../components/Widget';\r\n\r\nexport default {\r\n    name: 'ArrayFieldSpecialFormat',\r\n    props: vueProps,\r\n    setup(props, { attrs }) {\r\n        const widgetConfig = computed(() => getWidgetConfig({\r\n            schema: {\r\n                'ui:widget': props.globalOptions.WIDGET_MAP.formats[props.schema.format],\r\n                ...props.schema\r\n            },\r\n            uiSchema: props.uiSchema,\r\n            curNodePath: props.curNodePath,\r\n            rootFormData: props.rootFormData\r\n        }));\r\n\r\n        return () => h(\r\n            Widget,\r\n            {\r\n                ...attrs,\r\n                ...props,\r\n                ...widgetConfig.value\r\n            }\r\n        );\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/24 11:23.\r\n */\r\n\r\n\r\nimport {\r\n    ref, computed, h, watch, toRaw\r\n} from 'vue';\r\n\r\nimport getDefaultFormState from '@lljj/vjsf-utils/schema/getDefaultFormState';\r\n\r\nimport {\r\n    allowAdditionalItems, isFixedItems, isMultiSelect, getUserUiOptions\r\n} from '@lljj/vjsf-utils/formUtils';\r\nimport { getPathVal, setPathVal } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { genId, lowerCase } from '@lljj/vjsf-utils/utils';\r\n\r\nimport * as arrayMethods from '@lljj/vjsf-utils/arrayUtils';\r\nimport Widget from '../../components/Widget';\r\n\r\nimport vueProps from '../props';\r\n\r\nimport ArrayFieldNormal from './arrayTypes/ArrayFieldNormal';\r\nimport ArrayFieldMultiSelect from './arrayTypes/ArrayFieldMultiSelect';\r\nimport ArrayFieldTuple from './arrayTypes/ArrayFieldTuple';\r\nimport ArrayFieldSpecialFormat from './arrayTypes/ArrayFieldSpecialFormat';\r\n\r\nexport default {\r\n    name: 'ArrayField',\r\n    props: vueProps,\r\n    setup(props) {\r\n        // Get current value\r\n        const getCurFormData = () => {\r\n            const { rootFormData, curNodePath } = props;\r\n            const value = getPathVal(rootFormData, curNodePath);\r\n\r\n            if (Array.isArray(value)) return value;\r\n\r\n            console.error('error: type array, value must be array type');\r\n\r\n            return [];\r\n        };\r\n\r\n        // Solve list key problem by maintaining a copy of keys and a copy of values\r\n        const formKeys = ref(getCurFormData().map(() => genId()));\r\n\r\n        // Current formData\r\n        const curFormData = computed(() => getCurFormData());\r\n        watch(curFormData, (newVal, oldVal) => {\r\n            // Reference type, when values are not equal, it means it has been reassigned\r\n            // Should compare original values here\r\n            if (newVal !== oldVal && toRaw(newVal) !== toRaw(oldVal) && Array.isArray(newVal)) {\r\n                formKeys.value = newVal.map(() => genId());\r\n            }\r\n        }, {\r\n            deep: true\r\n        });\r\n\r\n        // FormData with processed keys\r\n        const itemsFormData = computed(() => curFormData.value.map((item, index) => ({\r\n            key: formKeys.value[index],\r\n            value: item\r\n        })));\r\n\r\n        // Current node UI configuration\r\n        const uiOptions = computed(() => getUserUiOptions({\r\n            schema: props.schema,\r\n            uiSchema: props.uiSchema,\r\n            curNodePath: props.curNodePath,\r\n            rootFormData: props.rootFormData\r\n        }));\r\n\r\n        // Get a new item\r\n        const getNewFormDataRow = () => {\r\n            const { schema, rootSchema } = props;\r\n            let itemSchema = schema.items;\r\n\r\n            // https://json-schema.org/understanding-json-schema/reference/array.html#tuple-validation\r\n            // Array as collection of items with additionalItems property needs special handling\r\n            if (isFixedItems(schema) && allowAdditionalItems(schema)) {\r\n                itemSchema = schema.additionalItems;\r\n            }\r\n            return getDefaultFormState(itemSchema, undefined, rootSchema);\r\n        };\r\n\r\n        const handleArrayOperate = ({\r\n            command,\r\n            data\r\n        }) => {\r\n            // Uniformly handle array data changes such as add, delete, sort, etc.\r\n            const strategyMap = {\r\n                moveUp(target, { index }) {\r\n                    arrayMethods.moveUpAt(target, index);\r\n                },\r\n                moveDown(target, { index }) {\r\n                    arrayMethods.moveDownAt(target, index);\r\n                },\r\n                remove(target, { index }) {\r\n                    arrayMethods.removeAt(target, index);\r\n                },\r\n                add(target, { newRowData }) {\r\n                    target.push(newRowData);\r\n                },\r\n                batchPush(target, { pushArray }) {\r\n                    pushArray.forEach((item) => {\r\n                        target.push(item);\r\n                    });\r\n                },\r\n                setNewTarget(target, { formData, nodePath, newTarget }) {\r\n                    setPathVal(formData, nodePath, newTarget);\r\n                }\r\n            };\r\n\r\n            const curStrategy = strategyMap[command];\r\n            if (curStrategy) {\r\n                let formDataPrams = data;\r\n                let keysParams = data;\r\n\r\n                if (command === 'add') {\r\n                    // Single add\r\n                    formDataPrams = { newRowData: getNewFormDataRow() };\r\n                    keysParams = { newRowData: genId() };\r\n                } else if (command === 'batchPush') {\r\n                    // Batch add\r\n                    keysParams = {\r\n                        pushArray: formDataPrams.pushArray.map(item => genId())\r\n                    };\r\n                } else if (command === 'setNewTarget') {\r\n                    // Set\r\n                    formDataPrams = {\r\n                        formData: props.rootFormData,\r\n                        nodePath: props.curNodePath,\r\n                        newTarget: formDataPrams.newTarget\r\n                    };\r\n                    keysParams = {\r\n                        formData: formKeys,\r\n                        nodePath: 'value',\r\n                        newTarget: formDataPrams.newTarget.map(item => genId())\r\n                    };\r\n                }\r\n\r\n                // Sync modify formData keys\r\n                curStrategy.apply(null, [formKeys.value, keysParams]);\r\n\r\n                // Modify formData data\r\n                curStrategy.apply(null, [curFormData.value, formDataPrams]);\r\n\r\n                // onArrayOperate\r\n                if (uiOptions.value.afterArrayOperate) {\r\n                    this.uiOptions.afterArrayOperate.call(null, curFormData.value, command, data);\r\n                }\r\n            } else {\r\n                throw new Error(`Error - Unknown operation: [${command}]`);\r\n            }\r\n        };\r\n\r\n        return () => {\r\n            const {\r\n                schema,\r\n                uiSchema,\r\n                rootSchema,\r\n                rootFormData,\r\n                curNodePath,\r\n                globalOptions\r\n            } = props;\r\n\r\n            if (!schema.hasOwnProperty('items')) {\r\n                throw new Error(`[${schema}] Please define items property first`);\r\n            }\r\n\r\n            // Multi-select type\r\n            if (isMultiSelect(schema, rootSchema)) {\r\n                // item is enum fixed value\r\n                return h(ArrayFieldMultiSelect, {\r\n                    ...props,\r\n                    class: {\r\n                        [lowerCase(ArrayFieldMultiSelect.name)]: true\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Special handling for date datetime time url-upload\r\n            // array supports ui:widget configuration\r\n            // Date time range or ui:widget special configuration\r\n            if (schema.format || schema['ui:widget'] || uiSchema['ui:widget']) {\r\n                return h(ArrayFieldSpecialFormat, {\r\n                    ...props,\r\n                    class: {\r\n                        [lowerCase(ArrayFieldSpecialFormat.name)]: true\r\n                    }\r\n                });\r\n            }\r\n\r\n            // https://json-schema.org/understanding-json-schema/reference/array.html#list-validation\r\n            // https://json-schema.org/understanding-json-schema/reference/array.html#tuple-validation\r\n            const CurrentField = isFixedItems(schema) ? ArrayFieldTuple : ArrayFieldNormal;\r\n\r\n            return h('div', [\r\n                h(CurrentField, {\r\n                    itemsFormData: itemsFormData.value,\r\n                    ...props,\r\n                    onArrayOperate: handleArrayOperate,\r\n                    class: {\r\n                        [lowerCase(CurrentField.name)]: true\r\n                    }\r\n                }),\r\n\r\n                // Insert a Widget to validate array - maxItems, minItems, uniqueItems and other properties outside items\r\n                props.needValidFieldGroup ? h(Widget, {\r\n                    key: 'validateWidget-array',\r\n                    class: {\r\n                        validateWidget: true,\r\n                        'validateWidget-array': true\r\n                    },\r\n                    schema: Object.entries(schema).reduce((preVal, [key, value]) => {\r\n                        if (key !== 'items') preVal[key] = value;\r\n                        return preVal;\r\n                    }, {}),\r\n                    uiSchema,\r\n                    errorSchema: props.errorSchema,\r\n                    curNodePath,\r\n                    rootFormData,\r\n                    globalOptions\r\n                }) : null\r\n            ]);\r\n        };\r\n    },\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/5/19 10:15 PM.\r\n */\r\n\r\n\r\nimport { ref, watch, h } from 'vue';\r\nimport {\r\n    getPathVal, setPathVal, deletePathVal, nodePath2ClassName\r\n} from '@lljj/vjsf-utils/vue3Utils';\r\nimport {\r\n    isEmptyObject, filterObject, isObject, getSchemaType\r\n} from '@lljj/vjsf-utils/utils';\r\n\r\nimport {\r\n    getWidgetConfig, getUiOptions, getUserErrOptions\r\n} from '@lljj/vjsf-utils/formUtils';\r\n\r\nimport retrieveSchema from '@lljj/vjsf-utils/schema/retriev';\r\nimport getDefaultFormState from '@lljj/vjsf-utils/schema/getDefaultFormState';\r\nimport { getMatchingOption, isValid } from '@lljj/vjsf-utils/schema/validate';\r\n\r\nimport vueProps from '../../props';\r\nimport Widget from '../../../components/Widget';\r\nimport SchemaField from '../../SchemaField';\r\n\r\nexport default {\r\n    name: 'SelectLinkageField',\r\n    props: {\r\n        ...vueProps,\r\n        combiningType: {\r\n            type: String,\r\n            default: 'anyOf' // anyOf oneOf\r\n        },\r\n        selectList: {\r\n            type: Array,\r\n            require: true\r\n        }\r\n    },\r\n    setup(props) {\r\n        const computedCurSelectIndexByFormData = (formData) => {\r\n            const index = getMatchingOption(formData, props.selectList, props.rootSchema, true);\r\n            return index || 0;\r\n        };\r\n\r\n        // Currently selected option item\r\n        const curSelectIndex = ref(computedCurSelectIndexByFormData(getPathVal(props.rootFormData, props.curNodePath)));\r\n\r\n        // Dropdown option VNode\r\n        const getSelectBoxVNode = () => {\r\n            // Dropdown option parameters\r\n            const selectWidgetConfig = getWidgetConfig({\r\n                schema: props.schema[`${props.combiningType}Select`] || {}, // Extend oneOfSelect, anyOfSelect fields\r\n                uiSchema: props.uiSchema[`${props.combiningType}Select`] || {}, // Configure UI info through uiSchema['oneOf']\r\n                curNodePath: props.curNodePath,\r\n                rootFormData: props.rootFormData,\r\n            }, () => ({\r\n                // Enum parameters\r\n                widget: 'SelectWidget'\r\n            }));\r\n\r\n            // title description fallback to schema config, but don't use uiSchema config here\r\n            // select ui config needs to use (oneOf|anyOf)Select\r\n            selectWidgetConfig.label = selectWidgetConfig.label || props.schema.title;\r\n            selectWidgetConfig.description = selectWidgetConfig.description || props.schema.description;\r\n\r\n            // Dropdown list enum values\r\n            if (!selectWidgetConfig.uiProps.enumOptions) {\r\n                const uiSchemaSelectList = props.uiSchema[props.combiningType] || [];\r\n                selectWidgetConfig.uiProps.enumOptions = props.selectList.map((option, index) => {\r\n                    const curUiOptions = getUiOptions({\r\n                        schema: option,\r\n                        uiSchema: uiSchemaSelectList[index],\r\n                        containsSpec: false,\r\n                        // curNodePath: props.curNodePath,\r\n                        // rootFormData: props.rootFormData,\r\n                    });\r\n                    return {\r\n                        label: curUiOptions.title || `Option ${index + 1}`,\r\n                        value: index,\r\n                    };\r\n                });\r\n            }\r\n\r\n            // oneOf option rendering\r\n            // Select box VNode\r\n            return h(\r\n                Widget,\r\n                {\r\n                    key: `fieldSelect_${props.combiningType}`,\r\n                    class: {\r\n                        [`fieldSelect_${props.combiningType}`]: true\r\n                    },\r\n                    isFormData: false,\r\n                    curValue: curSelectIndex.value,\r\n                    curNodePath: props.curNodePath,\r\n                    rootFormData: props.rootFormData,\r\n                    globalOptions: props.globalOptions,\r\n                    ...selectWidgetConfig,\r\n                    onOtherDataChange: (event) => {\r\n                        curSelectIndex.value = event;\r\n                    }\r\n                }\r\n            );\r\n        };\r\n\r\n        // Object switched select\r\n        // If object type option has added properties, remove them here\r\n        // Calculate default value for new option\r\n        watch(curSelectIndex, (newVal, oldVal) => {\r\n            const curFormData = getPathVal(props.rootFormData, props.curNodePath);\r\n\r\n            // Calculate new option default value\r\n            const newOptionData = getDefaultFormState(props.selectList[newVal], undefined, props.rootSchema);\r\n\r\n            const hasOwn = Object.prototype.hasOwnProperty;\r\n\r\n            // Remove old key\r\n            if (isObject(curFormData)) {\r\n                const oldSelectSchema = retrieveSchema(\r\n                    props.selectList[oldVal],\r\n                    props.rootSchema\r\n                );\r\n                if (getSchemaType(oldSelectSchema) === 'object') {\r\n                    // Remove properties added by old schema\r\n                    // Object.keys(oldSelectSchema.properties)\r\n                    for (const key in oldSelectSchema.properties) {\r\n                        if (\r\n                            hasOwn.call(oldSelectSchema.properties, key)\r\n                            && !hasOwn.call(newOptionData, key)\r\n                        ) {\r\n                            deletePathVal(curFormData, key);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Set new value\r\n            if (isObject(newOptionData)) {\r\n                Object.entries(newOptionData).forEach(([key, value]) => {\r\n                    if (\r\n                        value !== undefined\r\n                        && (\r\n                            curFormData[key] === undefined\r\n                            || isObject(value)\r\n                            || ((() => {\r\n                                const newSelectSchema = retrieveSchema(\r\n                                    props.selectList[newVal],\r\n                                    props.rootSchema\r\n                                );\r\n\r\n                                return newSelectSchema.properties[key]?.const !== undefined;\r\n                            })())\r\n                        )\r\n                    ) {\r\n                        // Haven't found a reasonable way to merge old and new values here\r\n                        //\r\n                        // 1. If anyOf contains const config in same-name property schema, new value is generated and overwrite here\r\n                        // 2. Other scenarios keep old value of same-name key\r\n                        setPathVal(curFormData, key, value);\r\n                    }\r\n                });\r\n            } else {\r\n                setPathVal(\r\n                    props.rootFormData,\r\n                    props.curNodePath,\r\n                    (newOptionData === undefined && isValid(retrieveSchema(\r\n                        props.selectList[newVal],\r\n                        props.rootSchema\r\n                    ), curFormData)) ? curFormData : newOptionData\r\n                );\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            const { curNodePath } = props;\r\n            const pathClassName = nodePath2ClassName(curNodePath);\r\n\r\n            // is object\r\n            const isTypeObject = (props.schema.type === 'object' || props.schema.properties);\r\n\r\n            // Select attached node\r\n            const childrenVNodeList = [getSelectBoxVNode()];\r\n\r\n            // Current option content\r\n            let curSelectSchema = props.selectList[curSelectIndex.value];\r\n\r\n            // Merge schema of current selected node\r\n            if (curSelectSchema) {\r\n                // Override parent properties\r\n                const {\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    properties,\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    [props.combiningType]: combiningType,\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    [`${props.combiningType}Select`]: combiningTypeSelect,\r\n                    ...parentSchema\r\n                } = props.schema;\r\n\r\n                curSelectSchema = Object.assign({}, parentSchema, curSelectSchema);\r\n            }\r\n\r\n            // Object type but no attached properties\r\n            const isObjectEmptyAttachProperties = isTypeObject && isEmptyObject(curSelectSchema && curSelectSchema.properties);\r\n\r\n            if (curSelectSchema && !isObjectEmptyAttachProperties) {\r\n                // Current node's ui err config, used to support unified config for all options\r\n                // Extract oneOf anyOf same-level config, then merge into currently selected schema\r\n                const userUiOptions = filterObject(getUiOptions({\r\n                    schema: props.schema,\r\n                    uiSchema: props.uiSchema,\r\n                    containsSpec: false,\r\n                    curNodePath,\r\n                    rootFormData: props.rootFormData,\r\n                }), key => (key === props.combiningType ? undefined : `ui:${key}`));\r\n\r\n                const userErrOptions = filterObject(getUserErrOptions({\r\n                    schema: props.schema,\r\n                    uiSchema: props.uiSchema,\r\n                    errorSchema: props.errorSchema\r\n                }), key => (key === props.combiningType ? undefined : `err:${key}`));\r\n\r\n                childrenVNodeList.push(\r\n                    h(\r\n                        SchemaField,\r\n                        {\r\n                            key: `appendSchema_${props.combiningType}`,\r\n                            ...props,\r\n                            schema: {\r\n                                'ui:showTitle': false, // Don't show title by default\r\n                                'ui:showDescription': false, // Don't show description by default\r\n                                ...curSelectSchema,\r\n                            },\r\n                            required: props.required,\r\n                            uiSchema: {\r\n                                ...userUiOptions, // Merge oneOf level config\r\n                                ...((props.uiSchema[props.combiningType] || [])[curSelectIndex.value])\r\n                            },\r\n                            errorSchema: {\r\n                                ...userErrOptions, // Merge oneOf level config\r\n                                ...((props.errorSchema[props.combiningType] || [])[curSelectIndex.value])\r\n                            },\r\n                            // needValidFieldGroup: false // Validate separately, no need to handle here\r\n                        }\r\n                    )\r\n                );\r\n            }\r\n\r\n            // object needs to keep original properties, render separately if original properties exist\r\n            let originVNode = null;\r\n            if (isTypeObject && !isEmptyObject(props.schema.properties)) {\r\n                const {\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    title, description, properties, ...optionSchema\r\n                } = curSelectSchema;\r\n\r\n                // object original item rendering also needs to merge anyOf content\r\n                const origSchema = Object.assign({}, props.schema, optionSchema);\r\n                delete origSchema[props.combiningType];\r\n\r\n                originVNode = h(SchemaField, {\r\n                    key: `origin_${props.combiningType}`,\r\n                    class: {\r\n                        [`${props.combiningType}_originBox`]: true,\r\n                        [`${pathClassName}-originBox`]: true\r\n                    },\r\n                    ...props,\r\n                    schema: origSchema,\r\n                    // needValidFieldGroup: false // Validate separately, no need to handle here\r\n                });\r\n            }\r\n\r\n            // oneOf validation VNode\r\n            childrenVNodeList.push(\r\n                h(Widget, {\r\n                    key: `validateWidget-${props.combiningType}`,\r\n                    class: {\r\n                        validateWidget: true,\r\n                        [`validateWidget-${props.combiningType}`]: true\r\n                    },\r\n                    schema: props.schema,\r\n                    uiSchema: props.uiSchema,\r\n                    errorSchema: props.errorSchema,\r\n                    curNodePath: props.curNodePath,\r\n                    rootFormData: props.rootFormData,\r\n                    globalOptions: props.globalOptions\r\n                })\r\n            );\r\n\r\n            return h('div', [\r\n                originVNode,\r\n                h('div', {\r\n                    key: `appendBox_${props.combiningType}`,\r\n                    class: {\r\n                        appendCombining_box: true,\r\n                        [`${props.combiningType}_appendBox`]: true,\r\n                        [`${pathClassName}-appendBox`]: true\r\n                    }\r\n                }, childrenVNodeList)\r\n            ]);\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/20 9:55 PM.\r\n */\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport ObjectField from './fields/ObjectField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport StringField from './fields/StringField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport NumberField from './fields/NumberField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport IntegerField from './fields/IntegerField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport BooleanField from './fields/BooleanField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport ArrayField from './fields/ArrayField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport AnyOfField from './fields/combiningSchemas/AnyOfField';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport OneOfField from './fields/combiningSchemas/OneOfField';\r\n\r\n// Default type to field mapping relationship\r\nconst FIELDS_MAPS = {\r\n    array: ArrayField,\r\n    boolean: BooleanField,\r\n    integer: IntegerField,\r\n    number: NumberField,\r\n    object: ObjectField,\r\n    string: StringField,\r\n    null: {\r\n        render() {\r\n            return null;\r\n        }\r\n    },\r\n    anyOf: AnyOfField,\r\n    oneOf: OneOfField\r\n};\r\n\r\nexport default FIELDS_MAPS;\r\n","/**\r\n * Created by Liu.Jun on 2020/5/19 9:49 PM.\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport SelectLinkageField from '../SelectLinkageField';\r\n\r\nexport default {\r\n    name: 'AnyOfField',\r\n    setup(props, { attrs, slots }) {\r\n        return () => h(SelectLinkageField, {\r\n            ...attrs,\r\n            combiningType: 'anyOf',\r\n            selectList: attrs.schema.anyOf\r\n        }, slots);\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/5/19 9:49 PM.\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport SelectLinkageField from '../SelectLinkageField';\r\n\r\nexport default {\r\n    name: 'oneOfField',\r\n    setup(props, { attrs, slots }) {\r\n        return () => h(SelectLinkageField, {\r\n            ...attrs,\r\n            combiningType: 'oneOf',\r\n            selectList: attrs.schema.oneOf\r\n        }, slots);\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/20 9:55 PM.\r\n */\r\n\r\nimport { h } from 'vue';\r\n\r\nimport { getUiField, isHiddenWidget, isSelect } from '@lljj/vjsf-utils/formUtils';\r\nimport { nodePath2ClassName, resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { lowerCase } from '@lljj/vjsf-utils/utils';\r\nimport retrieveSchema from '@lljj/vjsf-utils/schema/retriev';\r\n\r\nimport FIELDS_MAP from '../../FIELDS_MAP';\r\nimport vueProps from '../props';\r\n\r\nexport default {\r\n    name: 'SchemaField',\r\n    props: vueProps,\r\n    setup(props) {\r\n        return () => {\r\n            // Currently does not support schema dependencies and additionalProperties display, no need to pass formData\r\n            // const schema = retrieveSchema(props.schema, props.rootSchema, formData);\r\n            const schema = retrieveSchema(props.schema, props.rootSchema);\r\n\r\n            // Current parameters\r\n            const curProps = { ...props, schema };\r\n\r\n            // Empty data\r\n            if (Object.keys(schema).length === 0) return null;\r\n\r\n            // Get node UI configuration to render field component\r\n            const { field: fieldComponent, fieldProps } = getUiField(FIELDS_MAP, curProps);\r\n\r\n            // hidden\r\n            const hiddenWidget = isHiddenWidget({\r\n                schema,\r\n                uiSchema: props.uiSchema,\r\n                curNodePath: props.curNodePath,\r\n                rootFormData: props.rootFormData\r\n            });\r\n\r\n            const pathClassName = nodePath2ClassName(props.curNodePath);\r\n\r\n            if (schema.anyOf && schema.anyOf.length > 0 && !isSelect(schema)) {\r\n                // anyOf\r\n                return h(resolveComponent(FIELDS_MAP.anyOf), {\r\n                    class: {\r\n                        [`${pathClassName}-anyOf`]: true,\r\n                        fieldItem: true,\r\n                        anyOfField: true\r\n                    },\r\n                    ...curProps\r\n                });\r\n            } if (schema.oneOf && schema.oneOf.length > 0 && !isSelect(schema)) {\r\n                // oneOf\r\n                return h(resolveComponent(FIELDS_MAP.oneOf), {\r\n                    class: {\r\n                        [`${pathClassName}-oneOf`]: true,\r\n                        fieldItem: true,\r\n                        oneOfField: true\r\n                    },\r\n                    ...curProps\r\n                });\r\n            }\r\n\r\n            return (fieldComponent && !hiddenWidget) ? h(resolveComponent(fieldComponent), {\r\n                ...curProps,\r\n                fieldProps,\r\n                class: {\r\n                    [lowerCase(fieldComponent.name) || fieldComponent]: true,\r\n                    hiddenWidget,\r\n                    fieldItem: true,\r\n                    [pathClassName]: true\r\n                }\r\n            }) : null;\r\n        };\r\n    }\r\n};\r\n","<template>\r\n    <v-container fluid>\r\n        <v-checkbox\r\n            v-for=\"(item, index) in enumOptions\"\r\n            :key=\"index\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        >\r\n        </v-checkbox>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'CheckboxesWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-container fluid>\r\n        <v-checkbox\r\n            v-for=\"(item, index) in enumOptions\"\r\n            :key=\"index\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        >\r\n        </v-checkbox>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'CheckboxesWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-radio-group\r\n        v-bind=\"$attrs\"\r\n    >\r\n        <v-radio\r\n            v-for=\"(item, index) in enumOptions\"\r\n            :key=\"index\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        >\r\n        </v-radio>\r\n    </v-radio-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RadioWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-radio-group\r\n        v-bind=\"$attrs\"\r\n    >\r\n        <v-radio\r\n            v-for=\"(item, index) in enumOptions\"\r\n            :key=\"index\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        >\r\n        </v-radio>\r\n    </v-radio-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RadioWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-select\r\n        clearable\r\n        v-bind=\"$attrs\"\r\n        :items=\"enumOptions\"\r\n        item-title=\"label\"\r\n        item-value=\"value\"\r\n    >\r\n    </v-select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SelectWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-select\r\n        clearable\r\n        v-bind=\"$attrs\"\r\n        :items=\"enumOptions\"\r\n        item-title=\"label\"\r\n        item-value=\"value\"\r\n    >\r\n    </v-select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SelectWidget',\r\n    props: {\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","/**\r\n * Created by Liu.Jun on 2020/7/22 13:21.\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\n\r\nimport { parseDateString } from '@lljj/vjsf-utils/utils';\r\n\r\nfunction isEmptyValue(value) {\r\n    return value === null || value === '' || (Array.isArray(value) && value.every(item => item === ''));\r\n}\r\n\r\nconst formatDateStr = (dateString) => {\r\n    const {\r\n        year,\r\n        month,\r\n        day\r\n    } = parseDateString(dateString, false);\r\n    return `${year}-${month}-${day}`;\r\n};\r\n\r\nexport default {\r\n    name: 'DatePickerWidget',\r\n    inheritAttrs: false,\r\n    setup(props, { attrs, slots }) {\r\n        return () => {\r\n            const { isNumberValue, isRange, ...otherProps } = attrs || {};\r\n            return h(resolveComponent('v-date-input'), {\r\n                type: isRange ? 'daterange' : 'date',\r\n                ...otherProps,\r\n                'onUpdate:modelValue': (val) => {\r\n                    let trueVal;\r\n                    if (isRange) {\r\n                        trueVal = isEmptyValue(val)\r\n                            ? []\r\n                            : val.map(\r\n                                item => (isNumberValue ? (new Date(item)).valueOf() : formatDateStr(item, isNumberValue))\r\n                            );\r\n                    } else {\r\n                        trueVal = isEmptyValue(val)\r\n                            ? undefined\r\n                            : isNumberValue ? (new Date(val)).valueOf() : formatDateStr(val, isNumberValue);\r\n                    }\r\n                    attrs['onUpdate:modelValue'].apply(attrs, [trueVal]);\r\n                }\r\n            }, slots);\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/7/22 13:21.\r\n */\r\n\r\nimport { h } from 'vue';\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\n\r\nexport default {\r\n    name: 'DateTimePickerWidget',\r\n    inheritAttrs: false,\r\n    setup(props, { attrs, slots }) {\r\n        const trueValue = (isRange, isNumberValue, val) => {\r\n            if (isRange) {\r\n                return (val === null) ? [] : val.map(item => (new Date(item))[isNumberValue ? 'valueOf' : 'toISOString']());\r\n            }\r\n            return (val === null) ? undefined : (new Date(val))[isNumberValue ? 'valueOf' : 'toISOString']();\r\n        };\r\n\r\n        return () => {\r\n            const { isNumberValue, isRange, ...otherProps } = attrs || {};\r\n            return h(resolveComponent('v-date-input'), {\r\n                type: isRange ? 'datetimerange' : 'datetime',\r\n                ...otherProps,\r\n\r\n                'onUpdate:modelValue': (val) => {\r\n                    const trueVal = trueValue(isRange, isNumberValue, val);\r\n\r\n                    attrs['onUpdate:modelValue'].apply(attrs, [trueVal]);\r\n                }\r\n            }, slots);\r\n        };\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/7/22 13:22.\r\n */\r\n\r\nimport { h, ref, watch } from 'vue';\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { parseDateString } from '@lljj/vjsf-utils/utils';\r\n\r\nconst formatTimeStr = (dateString) => {\r\n    const { hour, minute, second } = parseDateString(dateString, true);\r\n    return `${hour}:${minute}:${second}`;\r\n};\r\n\r\nconst formatTimeObj = (timeStr) => {\r\n    if (timeStr instanceof Date) {\r\n        return timeStr;\r\n    }\r\n\r\n    // Get current time and modify hours, minutes, seconds\r\n    if (typeof timeStr === 'string') {\r\n        const [hours, minutes, seconds] = timeStr.split(':');\r\n        const curTime = new Date();\r\n        curTime.setHours(+hours);\r\n        curTime.setMinutes(+minutes);\r\n        curTime.setSeconds(+seconds);\r\n        return curTime;\r\n    }\r\n\r\n    // Clear other formats\r\n    return undefined;\r\n};\r\n\r\nexport default {\r\n    name: 'TimePickerWidget',\r\n    inheritAttrs: false,\r\n    props: {\r\n        modelValue: {\r\n            default: null,\r\n            type: null\r\n        }\r\n    },\r\n    setup(props, { attrs, slots }) {\r\n        // Hack: element plus timePicker becomes object type\r\n        const originValue = ref(formatTimeObj(props.modelValue));\r\n\r\n        // Does not need to be reactive\r\n        let formatValue = props.modelValue;\r\n\r\n        // If the external value was modified\r\n        watch(() => props.modelValue, (newVal) => {\r\n            if (newVal !== formatValue) {\r\n                // Update internal value\r\n                originValue.value = formatTimeObj(newVal);\r\n            }\r\n        });\r\n\r\n        return () => h(resolveComponent('v-time-picker'), {\r\n            ...attrs,\r\n            modelValue: originValue.value,\r\n            'onUpdate:modelValue': (val) => {\r\n                originValue.value = val;\r\n\r\n                // Update and cache internal timeStr\r\n                formatValue = val === null ? undefined : formatTimeStr(val);\r\n\r\n                // Update external value\r\n                attrs['onUpdate:modelValue'].apply(attrs, [formatValue]);\r\n            }\r\n        }, slots);\r\n    }\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/11/26 10:01 PM.\r\n */\r\n\r\nimport { h, ref, getCurrentInstance } from 'vue';\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\nimport { openNewPage } from '@lljj/vjsf-utils/utils';\r\n\r\n// mock\r\n// https://run.mocky.io/v3/518d7af7-204f-45ab-9628-a6e121dab8ca\r\n\r\nexport default {\r\n    name: 'UploadWidget',\r\n    props: {\r\n        modelValue: {\r\n            default: null,\r\n            type: [String, Array]\r\n        },\r\n        responseFileUrl: {\r\n            default: () => res => (res ? (res.url || (res.data && res.data.url)) : ''),\r\n            type: [Function]\r\n        },\r\n        btnText: {\r\n            type: String,\r\n            default: 'Click to Upload'\r\n        },\r\n        // Pass in VNode\r\n        slots: {\r\n            type: null,\r\n            default: null\r\n        }\r\n    },\r\n    setup(props, { attrs, emit }) {\r\n        // Set default fileList\r\n        const curModelValue = props.modelValue;\r\n        const isArrayValue = Array.isArray(curModelValue);\r\n\r\n        const defaultFileList = attrs.fileList || (() => {\r\n            if (isArrayValue) {\r\n                return curModelValue.map((item, index) => ({\r\n                    name: `Uploaded File (${index + 1})`,\r\n                    url: item\r\n                }));\r\n            }\r\n            if (curModelValue) {\r\n                return [{\r\n                    name: 'Uploaded File',\r\n                    url: curModelValue\r\n                }];\r\n            }\r\n\r\n            return [];\r\n        })();\r\n\r\n        // fileList\r\n        const fileListRef = ref(defaultFileList);\r\n\r\n        const getUrl = fileItem => (\r\n            fileItem\r\n            && ((fileItem.response && props.responseFileUrl(fileItem.response)) || fileItem.url))\r\n            || '';\r\n\r\n        const emitValue = (emitFileList) => {\r\n            // v-model\r\n            let curValue;\r\n\r\n            if (isArrayValue) {\r\n                curValue = emitFileList.length ? emitFileList.reduce((pre, item) => {\r\n                    const url = getUrl(item);\r\n                    if (url) pre.push(url);\r\n                    return pre;\r\n                }, []) : [];\r\n            } else {\r\n                const fileItem = emitFileList[emitFileList.length - 1];\r\n                curValue = getUrl(fileItem);\r\n            }\r\n\r\n            emit('update:modelValue', curValue);\r\n        };\r\n\r\n        const globalProperties = getCurrentInstance().appContext.config.globalProperties;\r\n\r\n        return () => {\r\n            const data = {\r\n                fileList: fileListRef.value,\r\n                'on-exceed': () => {\r\n                    if (globalProperties.$message) {\r\n                        globalProperties.$message.warning('Exceeded file upload limit');\r\n                    }\r\n                },\r\n                'on-error': () => {\r\n                    if (globalProperties.$message) {\r\n                        globalProperties.$message.error('File upload failed');\r\n                    }\r\n                },\r\n                'on-preview': (file) => {\r\n                    const url = getUrl(file);\r\n                    if (url) openNewPage(url);\r\n                },\r\n                ...attrs,\r\n                'on-remove': (file, fileList) => {\r\n                    emitValue(fileList);\r\n                    if (attrs['on-remove']) {\r\n                        attrs['on-remove'](file, fileList);\r\n                    }\r\n                },\r\n                'on-success': (response, file, fileList) => {\r\n                    emitValue(fileList);\r\n                    // User registered onSuccess callback\r\n                    if (attrs['on-success']) {\r\n                        attrs['on-success'](response, file, fileList);\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (!isArrayValue) data.limit = 1;\r\n            if (isArrayValue) {\r\n                data.multiple = true;\r\n                data.chips = true;\r\n            }\r\n            data['show-size'] = true;\r\n            // data.accept = data.accept || '*/*';\r\n\r\n            return h(resolveComponent('v-file-input'), data);\r\n        };\r\n    }\r\n};\r\n","import { h, resolveComponent } from 'vue';\r\n\r\nexport default {\r\n    name: 'TextareaWidget',\r\n    setup(props, { attrs, slots }) {\r\n        return () => h(resolveComponent('v-textarea'), {\r\n            // props,\r\n            ...attrs,\r\n        }, slots);\r\n    }\r\n};\r\n","<template>\r\n    <v-switch\r\n        :value=\"value\"\r\n        :label=\"label\"\r\n        :color=\"color\"\r\n        v-bind=\"$attrs\"\r\n    >\r\n    </v-switch>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SwitchWidget',\r\n    props: {\r\n        color: {\r\n            type: String,\r\n            default: 'primary'\r\n        },\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        },\r\n        value: {\r\n            type: null,\r\n            default: undefined\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        label: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <v-switch\r\n        :value=\"value\"\r\n        :label=\"label\"\r\n        :color=\"color\"\r\n        v-bind=\"$attrs\"\r\n    >\r\n    </v-switch>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SwitchWidget',\r\n    props: {\r\n        color: {\r\n            type: String,\r\n            default: 'primary'\r\n        },\r\n        enumOptions: {\r\n            default: () => [],\r\n            type: [Array]\r\n        },\r\n        value: {\r\n            type: null,\r\n            default: undefined\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        label: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    }\r\n};\r\n</script>\r\n","/**\r\n * Created by Liu.Jun on 2020/5/17 10:41 PM.\r\n */\r\nimport { resolveComponent, modelValueComponent } from '@lljj/vjsf-utils/vue3Utils';\r\nimport CheckboxesWidget from './CheckboxesWidget';\r\nimport RadioWidget from './RadioWidget';\r\nimport SelectWidget from './SelectWidget';\r\nimport DatePickerWidget from './DatePickerWidget';\r\nimport DateTimePickerWidget from './DateTimePickerWidget';\r\nimport TimePickerWidget from './TimePickerWidget';\r\nimport UploadWidget from './UploadWidget';\r\nimport TextareaWidget from './TextareaWidget';\r\nimport SwitchWidget from './SwitchWidget';\r\n\r\n\r\nconst widgetComponents = {\r\n    CheckboxesWidget,\r\n    RadioWidget,\r\n    SelectWidget,\r\n    TimePickerWidget,\r\n    DatePickerWidget,\r\n    DateTimePickerWidget,\r\n    UploadWidget,\r\n    SwitchWidget,\r\n    TextareaWidget,\r\n    // InputNumberWidget: modelValueComponent('v-input-number'),\r\n    AutoCompleteWidget: modelValueComponent('v-autocomplete'),\r\n    // SliderWidget: modelValueComponent('v-slider'),\r\n    RateWidget: modelValueComponent('v-rating'),\r\n};\r\n\r\nexport default widgetComponents;\r\n","/**\r\n * Created by Liu.Jun on 2020/4/21 18:23.\r\n */\r\n\r\n// Widget component mapping to Vuetify configuration table\r\nimport { h } from 'vue';\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\nimport widgetComponents from './index';\r\n\r\nconst {\r\n    CheckboxesWidget,\r\n    RadioWidget,\r\n    SelectWidget,\r\n    TimePickerWidget,\r\n    DatePickerWidget,\r\n    DateTimePickerWidget,\r\n    SwitchWidget\r\n} = widgetComponents;\r\n\r\nexport default {\r\n    types: {\r\n        boolean: SwitchWidget,\r\n        string: 'v-text-field',\r\n        number: 'v-number-input',\r\n        integer: 'v-number-input',\r\n    },\r\n    formats: {\r\n        color: 'v-color-input',\r\n        time: TimePickerWidget, // 20:20:39+00:00\r\n        date: DatePickerWidget, // 2018-11-13\r\n        'date-time': DateTimePickerWidget, // 2018-11-13T20:20:39+00:00\r\n    },\r\n    common: {\r\n        select: SelectWidget,\r\n        radioGroup: RadioWidget,\r\n        checkboxGroup: CheckboxesWidget,\r\n    },\r\n    widgetComponents\r\n};\r\n","/**\r\n * Created by Costas Xyloyiannis on 2025/12/10\r\n */\r\n\r\n\r\nimport {\r\n    h, ref, onMounted, defineComponent\r\n} from 'vue';\r\n\r\nimport createVue3Core, { fieldProps, SchemaField } from '@lljj/vue3-form-core';\r\n\r\n\r\nimport i18n from '@lljj/vjsf-utils/i18n';\r\nimport * as vueUtils from '@lljj/vjsf-utils/vue3Utils';\r\nimport * as formUtils from '@lljj/vjsf-utils/formUtils';\r\nimport * as schemaValidate from '@lljj/vjsf-utils/schema/validate';\r\nimport getDefaultFormState from '@lljj/vjsf-utils/schema/getDefaultFormState';\r\nimport WIDGET_MAP from './config/widgets/WIDGET_MAP.js';\r\n\r\nimport './style.css';\r\n\r\nconst globalOptions = {\r\n    WIDGET_MAP,\r\n    COMPONENT_MAP: {\r\n        form: defineComponent({\r\n            inheritAttrs: false,\r\n            setup(props, { attrs, slots }) {\r\n                const formRef = ref(null);\r\n                if (attrs.setFormRef) {\r\n                    onMounted(() => {\r\n                        attrs.setFormRef(formRef.value);\r\n                    });\r\n                }\r\n\r\n                return () => {\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    const { setFormRef, ...otherAttrs } = attrs;\r\n\r\n                    return h(vueUtils.resolveComponent('v-form'), {\r\n                        ref: formRef,\r\n                        ...otherAttrs\r\n                    }, slots);\r\n                };\r\n            }\r\n        }),\r\n        formItem: 'v-col',\r\n        button: 'v-btn',\r\n        popover: 'v-tooltip'\r\n    },\r\n    HELPERS: {\r\n        // Whether to display description in mini mode\r\n        isMiniDes(formProps) {\r\n            return formProps && ['left', 'right'].includes(formProps.labelPosition);\r\n        }\r\n    }\r\n};\r\n\r\nconst JsonSchemaForm = createVue3Core(globalOptions);\r\n\r\nexport default JsonSchemaForm;\r\n\r\nexport {\r\n    globalOptions,\r\n    SchemaField,\r\n    getDefaultFormState,\r\n    fieldProps,\r\n    vueUtils,\r\n    formUtils,\r\n    schemaValidate,\r\n    i18n\r\n};\r\n","/**\r\n * Created by Liu.Jun on 2020/4/16 17:32.\r\n */\r\n\r\nimport {\r\n    getCurrentInstance, watch, ref, computed, h, provide, toRef\r\n} from 'vue';\r\n\r\nimport { resolveComponent } from '@lljj/vjsf-utils/vue3Utils';\r\n\r\n// Generate form default data\r\nimport getDefaultFormState from '@lljj/vjsf-utils/schema/getDefaultFormState';\r\nimport { deepEquals } from '@lljj/vjsf-utils/utils';\r\n\r\n// Base common styles\r\nimport '@lljj/vjsf-utils/style/baseForm.css';\r\n\r\nimport vueProps from './props';\r\n\r\n// Default form footer\r\nimport FormFooter from './components/FormFooter.js';\r\n\r\nimport SchemaField from './fields/SchemaField';\r\nimport fieldProps from './fields/props';\r\n\r\nexport {\r\n    fieldProps,\r\n    SchemaField\r\n};\r\n\r\nexport default function createForm(globalOptions = {}) {\r\n    const Form = {\r\n        name: 'VueForm',\r\n        props: vueProps,\r\n        emits: ['update:modelValue', 'change', 'cancel', 'submit', 'validation-failed', 'form-mounted'],\r\n        setup(props, { slots, emit }) {\r\n            // global components\r\n            const internalInstance = getCurrentInstance();\r\n            if (!Form.installed && globalOptions.WIDGET_MAP.widgetComponents) {\r\n                Object.entries(globalOptions.WIDGET_MAP.widgetComponents).forEach(\r\n                    ([componentName, component]) => internalInstance.appContext.app.component(componentName, component)\r\n                );\r\n\r\n                // Register only once\r\n                Form.installed = true;\r\n            }\r\n\r\n            // Use provide to pass cross-component data\r\n            const fallbackLabel = toRef(props, 'fallbackLabel');\r\n            provide('genFormProvide', {\r\n                fallbackLabel,\r\n            });\r\n            // rootFormData\r\n            const rootFormData = ref(getDefaultFormState(props.schema, props.modelValue, props.schema, props.strictMode));\r\n            const footerParams = computed(() => ({\r\n                show: true,\r\n                okBtn: 'Save',\r\n                okBtnProps: {},\r\n                cancelBtn: 'Cancel',\r\n                ...props.formFooter\r\n            }));\r\n\r\n            // Form component instance, does not need to be reactive\r\n            let formRef = null;\r\n\r\n            // Update formData\r\n            const emitFormDataChange = (newValue, oldValue) => {\r\n                // Support v-model, reference type\r\n                emit('update:modelValue', newValue);\r\n\r\n                // Change event, reference type modifies newValue property\r\n                emit('change', {\r\n                    newValue,\r\n                    oldValue\r\n                });\r\n            };\r\n\r\n            // Update props\r\n            const willReceiveProps = (newVal, oldVal) => {\r\n                if (!deepEquals(newVal, oldVal)) {\r\n                    const tempVal = getDefaultFormState(props.schema, props.modelValue, props.schema, props.strictMode);\r\n                    if (!deepEquals(rootFormData.value, tempVal)) {\r\n                        rootFormData.value = tempVal;\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Emit v-model, synchronize values\r\n            watch(rootFormData, (newValue, oldValue) => {\r\n                emitFormDataChange(newValue, oldValue);\r\n            }, {\r\n                deep: true\r\n            });\r\n\r\n            // Schema is reassigned\r\n            watch(() => props.schema, (newVal, oldVal) => {\r\n                willReceiveProps(newVal, oldVal);\r\n            });\r\n\r\n            // Model value changes\r\n            watch(() => props.modelValue, (newVal, oldVal) => {\r\n                willReceiveProps(newVal, oldVal);\r\n            });\r\n\r\n            // Maintain v-model bidirectional data timeliness\r\n            emitFormDataChange(rootFormData.value, props.modelValue);\r\n\r\n            const getDefaultSlot = () => {\r\n                if (slots.default) {\r\n                    return slots.default({\r\n                        formData: rootFormData,\r\n                        formRefFn: () => formRef\r\n                    });\r\n                }\r\n\r\n                if (footerParams.value.show) {\r\n                    return h(FormFooter, {\r\n                        globalOptions,\r\n                        okBtn: footerParams.value.okBtn,\r\n                        okBtnProps: footerParams.value.okBtnProps,\r\n                        cancelBtn: footerParams.value.cancelBtn,\r\n                        formItemAttrs: footerParams.value.formItemAttrs,\r\n                        onCancel() {\r\n                            emit('cancel');\r\n                        },\r\n                        async onSubmit() {\r\n                            const validateFn = formRef.$$validate || formRef.validate;\r\n\r\n                            if (!validateFn) {\r\n                                console.error('No validate function found on form');\r\n                                return;\r\n                            }\r\n\r\n                            try {\r\n                                // Check if validateFn returns a Promise (Vuetify 3) or uses callback (old style)\r\n                                const result = validateFn((isValid, resData) => {\r\n                                    // Callback style (old)\r\n                                    if (isValid) {\r\n                                        return emit('submit', rootFormData);\r\n                                    }\r\n                                    console.warn(resData);\r\n                                    return emit('validation-failed', resData);\r\n                                });\r\n\r\n                                // If it's a Promise (Vuetify 3)\r\n                                if (result && typeof result.then === 'function') {\r\n                                    const isValid = await result;\r\n\r\n                                    if (isValid) {\r\n                                        emit('submit', rootFormData);\r\n                                    } else {\r\n                                        emit('validation-failed', { valid: false });\r\n                                    }\r\n                                }\r\n                            } catch (error) {\r\n                                console.error('Validation error:', error);\r\n                                emit('validation-failed', error);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                return [];\r\n            };\r\n\r\n            return () => {\r\n                const {\r\n                    // eslint-disable-next-line no-unused-vars\r\n                    layoutColumn = 1, inlineFooter, labelSuffix, isMiniDes, defaultSelectFirstOption, popover, ...uiFormProps\r\n                } = props.formProps;\r\n\r\n                const { inline = false, labelPosition = 'top' } = uiFormProps;\r\n\r\n                const schemaProps = {\r\n                    schema: props.schema,\r\n                    uiSchema: props.uiSchema,\r\n                    errorSchema: props.errorSchema,\r\n                    customFormats: props.customFormats,\r\n                    customRule: props.customRule,\r\n                    rootSchema: props.schema,\r\n                    rootFormData: rootFormData.value, // Root node data\r\n                    curNodePath: '', // Current node path\r\n                    globalOptions, // Global configuration, differentiated UI framework\r\n                    formProps: {\r\n                        labelPosition,\r\n                        labelSuffix: '：',\r\n                        defaultSelectFirstOption: true,\r\n                        inline,\r\n                        ...props.formProps\r\n                    }\r\n                };\r\n\r\n                return h(\r\n                    resolveComponent(globalOptions.COMPONENT_MAP.form),\r\n                    {\r\n                        class: {\r\n                            genFromComponent: true,\r\n                            formInlineFooter: inlineFooter,\r\n                            formInline: inline,\r\n                            [`genFromComponent_${props.schema.id}Form`]: !!props.schema.id,\r\n                            layoutColumn: !inline,\r\n                            [`layoutColumn-${layoutColumn}`]: !inline\r\n                        },\r\n                        setFormRef: (form) => {\r\n                            formRef = form;\r\n                            internalInstance.ctx.$$uiFormRef = formRef;\r\n\r\n                            emit('form-mounted', form, {\r\n                                formData: rootFormData.value\r\n                            });\r\n                        },\r\n                        // Prevent form default submit\r\n                        onSubmit(e) {\r\n                            e.preventDefault();\r\n                        },\r\n                        model: rootFormData,\r\n                        labelPosition,\r\n                        inline,\r\n                        ...uiFormProps\r\n                    },\r\n                    {\r\n                        default: () => [\r\n                            h(\r\n                                SchemaField,\r\n                                schemaProps\r\n                            ),\r\n                            getDefaultSlot(),\r\n                        ]\r\n                    }\r\n                );\r\n            };\r\n        },\r\n    };\r\n\r\n    Form.install = (vueApp, options = {}) => {\r\n        vueApp.component(options.name || Form.name, Form);\r\n    };\r\n\r\n    return Form;\r\n}\r\n"],"names":["nodePath2ClassName","path","concat","replace","isRootNodePath","computedCurPath","prePath","curKey","join","getPathVal","obj","leftDeviation","arguments","length","undefined","pathArr","split","i","path2prop","deletePathVal","vueData","name","setPathVal","value","resolveComponent","component","_resolveComponent","modelValueComponent","_ref","_ref$model","model","defineComponent","inheritAttrs","setup","props","_ref2","attrs","slots","modelValue","onUpdateValue","otherAttrs","_objectWithoutProperties","_excluded","h","_objectSpread","_defineProperty","isObject","object","Object","prototype","toString","call","isArguments","mergeObjects","obj1","obj2","concatArrays","preAcc","assign","keys","reduce","acc","key","left","right","hasOwnProperty","Array","isArray","getSchemaType","schema","type","const","isNaN","_typeof","enum","items","properties","additionalProperties","includes","find","curType","deepEquals","a","b","ca","cb","Date","getTime","RegExp","source","global","multiline","lastIndex","ignoreCase","slice","constructor","ka","kb","cal","push","sort","j","k","pop","preKey","genId","curTimestamp","isEmptyObject","filterObject","filterFn","entries","preVal","_slicedToArray","newKey","f","s","substr","parseDateString","dateString","includeTime","year","month","day","hour","minute","second","date","Number","Error","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","lowerCase","str","String","toLocaleLowerCase","scm","gcd","pathStr","findSchemaDefinition","$ref","rootSchema","origRef","startsWith","current","decodeURIComponent","substring","exports","merge","_len","sets","_key","xl","x","subexp","typeOf","o","shift","toLowerCase","toUpperCase","buildExps","isIRI","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","PCHAR$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","TypeError","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","overflow","not-basic","invalid-input","floor","Math","stringFromCharCode","fromCharCode","error$1","RangeError","mapDomain","string","fn","parts","result","encoded","array","map","ucs2decode","output","counter","charCodeAt","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","decode","input","codePoint","inputLength","n","bias","basic","lastIndexOf","index","oldi","w","t","baseMinusT","out","splice","fromCodePoint","apply","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","punycode","test","SCHEMES","pctEncChar","chr","c","pctDecChars","newStr","il","parseInt","c2","_c","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","query","fragment","_stripLeadingZeros","_normalizeIPv4","matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","parse","uriString","options","iri","reference","port","indexOf","error","schemeHandler","unicodeSupport","domainHost","e","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","serialize","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","target","tolerant","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","to","unknownHeaders","headers","hfields","hfield","toAddrs","_x","_xl","subject","body","_x2","_xl2","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","resolve","baseURI","relativeURI","schemelessOptions","normalize","uri","equal","uriA","uriB","escapeComponent","defineProperty","factory","flags","valueOf","copy","checkDataType","checkDataTypes","dataTypes","data","strictNumbers","code","types","toHash","null","number","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","escapeQuotes","require$$0","ucs2length","len","pos","varOccurences","dataVar","varReplace","expr","schemaHasRules","rules","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","RELATIVE_JSON_POINTER","segments","segment","unescapeJsonPointer","unescapeFragment","escapeFragment","encodeURIComponent","dataType","negate","EQUAL","AND","OK","NOT","hash","IDENTIFIER","SINGLE_QUOTE","util","this","traverse","module","opts","_traverse","pre","post","jsonPtr","parentJsonPtr","parentKeyword","parentSchema","keyIndex","sch","arrayKeywords","propsKeywords","keywords","allKeys","skipKeywords","additionalItems","contains","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","dependencies","default","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","format","maxItems","minItems","uniqueItems","maxProperties","minProperties","compile","root","ref","refVal","_refs","_schemas","SchemaObject","inlineRef","_opts","inlineRefs","validate","_compile","v","baseId","res","resolveSchema","p","URI","refPath","_getFullPath","getFullPath","_getId","id","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","url","ids","schemaId","baseIds","fullPaths","localRefs","self","PREVENT_SCOPE_CHANGE","part","SIMPLE_INLINED","limit","checkNoRef","item","countKeys","count","Infinity","TRAILING_SLASH_HASH","Validation","errorSubclass","message","ajv","validation","MissingRef","MissingRefError","missingRef","missingSchema","Subclass","create","cmp","cycles","node","aobj","bobj","seen","stringify","toJSON","isFinite","JSON","seenIndex","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","strictKeywords","$unknownKwd","$keywordsMsg","logger","warn","isTop","async","sourceCode","processCode","$lvl","level","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","nullable","extendRefs","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","arr1","$type","$i","l1","$parentData","arr2","i2","l2","arr3","$propertyKey","i3","l3","$sch","$passData","useDefault","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","keyword","implements","impl","$ruleImplementsSomeKeyword","ValidationError","errorClasses","refs","patterns","patternsHash","defaults","defaultsHash","customRules","checkCompiling","compilation","_compilations","compiling","callValidate","formats","_formats","localCompile","cv","endCompiling","_schema","_root","isRoot","validateGenerator","errorPath","resolveRef","usePattern","useCustomRule","vars","refValCode","patternCode","defaultCode","customRuleCode","Function","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","removeLocalRef","inline","regexStr","valueStr","stableStringify","rule","validateSchema","deps","definition","every","errorsText","macro","compIndex","statement","Cache","_cache","put","get","del","clear","DATE","DAYS","TIME","HOSTNAME","URITEMPLATE","URL","JSON_POINTER_URI_FRAGMENT","mode","isLeapYear","time","full","timeZone","fast","date-time","uri-reference","uri-template","email","hostname","ipv4","ipv6","regex","json-pointer","json-pointer-uri-fragment","relative-json-pointer","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","_errorDataPathProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","if","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","require$$11","require$$12","require$$13","require$$14","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","filter","notProto","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","loopRequired","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","require$$23","KEYWORDS","metaSchema","keywordsJsonPointers","compileAsync","meta","callback","loadSchema","loadMetaSchemaOf","then","schemaObj","_addSchema","_compileAsync","loadMissingSchema","added","schemaPromise","_loadingSchemas","removePromise","addSchema","getSchema","Promise","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","valid","def_customError","simpleTypes","validateKeyword","_addRule","ruleGroup","rg","custom","throwError","_validateKeyword","definitionSchema","Ajv","schemaKeyRef","_meta","_skipValidation","checkUnique","addMetaSchema","skipValidation","throwOrLogError","defaultMeta","META_SCHEMA_ID","keyRef","_getSchemaObj","compileSchema","_fragments","_getSchemaFragment","removeSchema","_removeAllSchemas","cacheKey","addFormat","separator","text","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","currentOpts","_metaOpts","_validate","addKeyword","customKeyword","getKeyword","removeKeyword","$dataMetaSchema","META_IGNORE_OPTIONS","META_SUPPORT_DATA","ALL","log","noop","console","setLogger","cache","forEach","group","implKeywords","ruleModules","_get$IdOrId","_get$Id","chooseGetId","errorDataPath","metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","$dataSchema","require$$1","require$$2","addDefaultMetaSchema","optsSchemas","schemas","addInitialSchemas","$$currentLocalizeFn","cond","params","depsCount","property","comparison","failingKeyword","missingPattern","propertyName","missingProperty","caseIndex","getCurrentLocalize","useLocal","fillObj","fill","intersection","resolveReference","formData","$refSchema","retrieveSchema","mergeSchemaAllOf","args","copyArgs","_loop","objTypeData","baseTypeData","intersectionArray","_ref4","arrayTypeData","min","max","resolveAllOf","resolvedAllOfRefSchema","allOfItem","originProperties","_excluded2","_toConsumableArray","_excluded3","regExpression","handleExpression","rootFormData","curNodePath","expression","fallBack","matchExpression","exec","trim","replaceArrayIndex","uiSchema","itemUiOptions","getUiOptions","containsSpec","curItem","isHiddenWidget","_ref2$schema","_ref2$uiSchema","_ref2$curNodePath","_ref2$rootFormData","widget","hiddenExpression","getUiField","FIELDS_MAP","_ref3","_ref3$schema","_ref3$uiSchema","fieldProps","fieldCtor","getUserUiOptions","_ref4$schema","_ref4$uiSchema","_ref4$rootFormData","itemSchema","_ref5","_ref5$schema","_ref5$uiSchema","_ref5$containsSpec","spec","readonly","readOnly","step","minlength","maxlength","isRange","isNumberValue","title","description","getWidgetConfig","_ref6","_ref6$schema","_ref6$uiSchema","fallback","uiOptions","label","labelWidth","widgetAttrs","widgetClass","class","widgetStyle","style","widgetListeners","fieldAttrs","fieldStyle","fieldClass","emptyValue","width","getWidget","renderScopedSlots","renderChildren","onChange","uiRequired","uiProps","getUserErrOptions","_ref7","_ref7$schema","_ref7$uiSchema","_ref7$errorSchema","errorSchema","orderProperties","order","arrayToHash","prev","curr","propertyHash","orderFiltered","orderHash","rest","restIndex","complete","isConstant","toConstant","isSelect","altSchemas","altSchemasItem","isFixedItems","isMultiSelect","allowAdditionalItems","optionsList","enumNames","altUiSchemas","curSchema","fallbackLabel","oriLabel","isFallback","backLabel","createAjvInstance","formerCustomFormats","formerMetaSchema","ajvInstance","transformAjvErrors","stack","ajvValidateFormData","transformErrors","_ref$additionalMetaSc","additionalMetaSchemas","_ref$customFormats","customFormats","hasNewMetaSchemas","hasNewFormats","formatName","validationError","i18n","noProperMetaSchema","validateFormDataAndTransformMsg","_ref2$additionalMetaS","_ref2$customFormats","_ref2$errorSchema","_ref2$required","_ref2$propPath","propPath","_ref2$isOnlyFirstErro","isOnlyFirstError","emptyArray","isEmpty","requireErrObj","errSchemaMsg","ajvErrors","userErrOptions","preErrors","errorItem","isValid","getMatchingIndex","haveAllFields","option","requiresAnyOf","augmentedSchema","shallowClone","_extends","_objectDestructuringEmpty","constProperty","getMatchingOption","mergeDefaultsWithFormData","idx","computeDefaults","parentDefaults","rawFormData","includeUndefinedValues","refSchema","matchSchema","computedDefault","defaultsLength","defaultEntries","fillerSchema","fillerEntries","getDefaultFormState","styleInject","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","formFooter","show","okBtn","cancelBtn","Boolean","strictMode","formProps","customRule","okBtnProps","formItemAttrs","globalOptions","emits","emit","COMPONENT_MAP","formItem","formFooter_item","button","onClick","marginLeft","inject","showTitle","showDescription","computed","trueTitle","_this$genFormProvide$","_this$genFormProvide$2","genFormProvide","backTitle","_createElementBlock","_hoisted_1","$props","$options","_hoisted_2","innerHTML","_createElementVNode","_hoisted_4","_renderSlot","needValidFieldGroup","xmlns","viewBox","d","version","p-id","xmlns:xlink","height","isFormData","curValue","widgetValue","set","trueValue","realRequired","_props$uiRequired","enumOptions","defaultSelectFirstOption","widgetRef","watch","_props$formProps","isRootNode","isMiniDes","miniDesModel","HELPERS","descriptionVNode","genFromWidget_des","genFromWidget_des_mini","miniDescriptionVNode","popover","margin","fontSize","cursor","placement","trigger","IconQuestion","formItemStyle","flexBasis","paddingRight","genFormItem","validator","reject","curCustomRule","slotProps","formItemErrorBox","genFormLabel","genFormItemRequired","labelSuffix","propKey","onUpdate:modelValue","event","curVal","parentFormData","uiConfFn","vueProps","_getUiOptions","onlyShowIfDependent","propertiesVNodeList","isRequired","_isDependOn","isDependency","curDependent","some","tempDependency","isDependOn","SchemaField","FieldGroupWrap","Widget","validateWidget","validateWidget-object","widgetConfig","tempWidgetConfig","WIDGET_MAP","common","select","StringField","boolean","vNodeList","tupleItemsLength","addable","showIndexNumber","sortable","removable","canAdd","canRemove","arrayOrderList","VNodeItem","vNode","trueIndex","indexNumber","arrayOrderList_item","arrayListItem_index","arrayListItem_operateTool","display","arrayListItem_btn","arrayListItem_orderBtn-top","disabled","command","IconCaretUp","arrayListItem_orderBtn-bottom","IconCaretDown","arrayListItem_btn-delete","IconClose","arrayListItem_content","arrayOrderList_bottomAddBtn","bottomAddBtn","is-plain","genFormBtn","IconPlus","marginRight","itemsFormData","arrayItemsVNodeList","tempUiSchema","ArrayOrderList","checkboxGroup","multiple","isNoArray","curSchemaState","newTarget","pushArray","fixItemsFormData","cutOffPointIndex","cutOfArr","curIndex","tupleVNodeArr","additionalVNodeArr","trueAddable","onArrayOperate","ui:widget","_this","getCurFormData","formKeys","curFormData","newVal","oldVal","toRaw","deep","handleArrayOperate","curStrategy","moveUp","newItems","arrayMethods","moveDown","remove","add","newRowData","batchPush","setNewTarget","nodePath","formDataPrams","keysParams","afterArrayOperate","ArrayFieldMultiSelect","ArrayFieldSpecialFormat","CurrentField","ArrayFieldTuple","ArrayFieldNormal","validateWidget-array","_ref8","_ref9","combiningType","selectList","require","curSelectIndex","getSelectBoxVNode","selectWidgetConfig","uiSchemaSelectList","onOtherDataChange","newOptionData","hasOwn","oldSelectSchema","_newSelectSchema$prop","pathClassName","isTypeObject","childrenVNodeList","curSelectSchema","_props$schema","_props$combiningType","_toPropertyKey","isObjectEmptyAttachProperties","userUiOptions","ui:showTitle","ui:showDescription","originVNode","_curSelectSchema","optionSchema","origSchema","appendCombining_box","FIELDS_MAPS","ArrayField","BooleanField","IntegerField","NumberField","ObjectField","render","SelectLinkageField","curProps","_getUiField","fieldComponent","hiddenWidget","_createBlock","fluid","_ctx","_mergeProps","clearable","item-title","item-value","isEmptyValue","formatDateStr","_parseDateString","otherProps","val","trueVal","formatTimeObj","timeStr","_timeStr$split2","hours","minutes","seconds","curTime","setHours","setMinutes","setSeconds","originValue","formatValue","responseFileUrl","btnText","curModelValue","isArrayValue","defaultFileList","fileList","fileListRef","getUrl","fileItem","response","emitValue","emitFileList","globalProperties","getCurrentInstance","appContext","config","on-exceed","warning","on-error","on-preview","file","href","click","removeChild","openNewPage","on-remove","on-success","chips","color","widgetComponents","CheckboxesWidget","RadioWidget","SelectWidget","TimePickerWidget","DatePickerWidget","DateTimePickerWidget","UploadWidget","SwitchWidget","TextareaWidget","AutoCompleteWidget","RateWidget","radioGroup","form","formRef","setFormRef","onMounted","vueUtils","labelPosition","JsonSchemaForm","Form","internalInstance","installed","componentName","app","toRef","provide","footerParams","emitFormDataChange","newValue","oldValue","willReceiveProps","tempVal","_props$formProps$layo","layoutColumn","inlineFooter","uiFormProps","_uiFormProps$inline","_uiFormProps$labelPos","schemaProps","genFromComponent","formInlineFooter","formInline","ctx","$$uiFormRef","onSubmit","preventDefault","formRefFn","FormFooter","onCancel","_asyncToGenerator","_regenerator","_callee","validateFn","_t","_context","$$validate","resData","vueApp","createVue3Core"],"mappings":"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"}